import{c as Aa}from"./chunk-TWW3KW7Z.js";import{b as oa,h as ca,i as Pa,l as ia}from"./chunk-5PTS4JDF.js";import{G as la,H as Sa,I as ua,L as sa,da as Ra,j as aa,m as ea,r as ta,u as ra,v as Ea,x as na,z as Ca}from"./chunk-4DLSYLKE.js";import{a as i,b as y,c as x}from"./chunk-VPXBKZQM.js";var a;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.SPHERICAL_ECEF=1]="SPHERICAL_ECEF",e[e.WGS84=2]="WGS84",e[e.WEB_MERCATOR=3]="WEB_MERCATOR",e[e.WGS84_ECEF=4]="WGS84_ECEF",e[e.CGCS2000=5]="CGCS2000",e[e.SPHERICAL_MARS_PCPF=6]="SPHERICAL_MARS_PCPF",e[e.GCSMARS2000=7]="GCSMARS2000",e[e.SPHERICAL_MOON_PCPF=8]="SPHERICAL_MOON_PCPF",e[e.GCSMOON2000=9]="GCSMOON2000",e[e.LON_LAT=10]="LON_LAT",e[e.PLATE_CARREE=11]="PLATE_CARREE"})(a||(a={}));var ha={[a.WGS84]:{[a.CGCS2000]:C,[a.GCSMARS2000]:null,[a.GCSMOON2000]:null,[a.LON_LAT]:C,[a.SPHERICAL_ECEF]:h,[a.SPHERICAL_MARS_PCPF]:null,[a.SPHERICAL_MOON_PCPF]:null,[a.UNKNOWN]:null,[a.WEB_MERCATOR]:M,[a.PLATE_CARREE]:O,[a.WGS84]:C,[a.WGS84_ECEF]:L},[a.CGCS2000]:{[a.CGCS2000]:C,[a.GCSMARS2000]:null,[a.GCSMOON2000]:null,[a.LON_LAT]:C,[a.SPHERICAL_ECEF]:h,[a.SPHERICAL_MARS_PCPF]:null,[a.SPHERICAL_MOON_PCPF]:null,[a.UNKNOWN]:null,[a.WEB_MERCATOR]:M,[a.PLATE_CARREE]:O,[a.WGS84]:C,[a.WGS84_ECEF]:L},[a.GCSMARS2000]:{[a.CGCS2000]:null,[a.GCSMARS2000]:C,[a.GCSMOON2000]:null,[a.LON_LAT]:C,[a.SPHERICAL_ECEF]:null,[a.SPHERICAL_MARS_PCPF]:D,[a.SPHERICAL_MOON_PCPF]:null,[a.UNKNOWN]:null,[a.WEB_MERCATOR]:null,[a.PLATE_CARREE]:null,[a.WGS84]:null,[a.WGS84_ECEF]:null},[a.GCSMOON2000]:{[a.CGCS2000]:null,[a.GCSMARS2000]:null,[a.GCSMOON2000]:C,[a.LON_LAT]:C,[a.SPHERICAL_ECEF]:null,[a.SPHERICAL_MARS_PCPF]:null,[a.SPHERICAL_MOON_PCPF]:v,[a.UNKNOWN]:null,[a.WEB_MERCATOR]:null,[a.PLATE_CARREE]:null,[a.WGS84]:null,[a.WGS84_ECEF]:null},[a.WEB_MERCATOR]:{[a.CGCS2000]:T,[a.GCSMARS2000]:null,[a.GCSMOON2000]:null,[a.LON_LAT]:T,[a.SPHERICAL_ECEF]:Na,[a.SPHERICAL_MARS_PCPF]:null,[a.SPHERICAL_MOON_PCPF]:null,[a.UNKNOWN]:null,[a.WEB_MERCATOR]:C,[a.PLATE_CARREE]:Ga,[a.WGS84]:T,[a.WGS84_ECEF]:La},[a.WGS84_ECEF]:{[a.CGCS2000]:G,[a.GCSMARS2000]:null,[a.GCSMOON2000]:null,[a.LON_LAT]:G,[a.SPHERICAL_ECEF]:fa,[a.SPHERICAL_MARS_PCPF]:null,[a.SPHERICAL_MOON_PCPF]:null,[a.UNKNOWN]:null,[a.WEB_MERCATOR]:pa,[a.PLATE_CARREE]:da,[a.WGS84]:G,[a.WGS84_ECEF]:C},[a.SPHERICAL_ECEF]:{[a.CGCS2000]:N,[a.GCSMARS2000]:null,[a.GCSMOON2000]:null,[a.LON_LAT]:N,[a.SPHERICAL_ECEF]:C,[a.SPHERICAL_MARS_PCPF]:null,[a.SPHERICAL_MOON_PCPF]:null,[a.UNKNOWN]:null,[a.WEB_MERCATOR]:Fa,[a.PLATE_CARREE]:ma,[a.WGS84]:N,[a.WGS84_ECEF]:Wa},[a.SPHERICAL_MARS_PCPF]:{[a.CGCS2000]:null,[a.GCSMARS2000]:J,[a.GCSMOON2000]:null,[a.LON_LAT]:J,[a.SPHERICAL_ECEF]:null,[a.SPHERICAL_MARS_PCPF]:C,[a.SPHERICAL_MOON_PCPF]:null,[a.UNKNOWN]:null,[a.WEB_MERCATOR]:null,[a.PLATE_CARREE]:null,[a.WGS84]:null,[a.WGS84_ECEF]:null},[a.SPHERICAL_MOON_PCPF]:{[a.CGCS2000]:null,[a.GCSMARS2000]:null,[a.GCSMOON2000]:z,[a.LON_LAT]:z,[a.SPHERICAL_ECEF]:null,[a.SPHERICAL_MARS_PCPF]:null,[a.SPHERICAL_MOON_PCPF]:C,[a.UNKNOWN]:null,[a.WEB_MERCATOR]:null,[a.PLATE_CARREE]:null,[a.WGS84]:null,[a.WGS84_ECEF]:null},[a.UNKNOWN]:{[a.CGCS2000]:null,[a.GCSMARS2000]:null,[a.GCSMOON2000]:null,[a.LON_LAT]:null,[a.SPHERICAL_ECEF]:null,[a.SPHERICAL_MARS_PCPF]:null,[a.SPHERICAL_MOON_PCPF]:null,[a.UNKNOWN]:C,[a.WEB_MERCATOR]:null,[a.PLATE_CARREE]:null,[a.WGS84]:null,[a.WGS84_ECEF]:null},[a.LON_LAT]:{[a.CGCS2000]:C,[a.GCSMARS2000]:C,[a.GCSMOON2000]:C,[a.LON_LAT]:C,[a.SPHERICAL_ECEF]:h,[a.SPHERICAL_MARS_PCPF]:D,[a.SPHERICAL_MOON_PCPF]:v,[a.UNKNOWN]:null,[a.WEB_MERCATOR]:M,[a.PLATE_CARREE]:O,[a.WGS84]:C,[a.WGS84_ECEF]:L},[a.PLATE_CARREE]:{[a.CGCS2000]:I,[a.GCSMARS2000]:null,[a.GCSMOON2000]:null,[a.LON_LAT]:I,[a.SPHERICAL_ECEF]:Ua,[a.SPHERICAL_MARS_PCPF]:null,[a.SPHERICAL_MOON_PCPF]:null,[a.UNKNOWN]:null,[a.WEB_MERCATOR]:Ka,[a.PLATE_CARREE]:C,[a.WGS84]:I,[a.WGS84_ECEF]:wa}};function Q(e,r,t=Ta()){return e==null||r==null?null:ga(e,r,t).projector}function Da(e,r){switch(Q(e,r,Y)){case C:return"copy3";case h:return"wgs84ToSphericalECEF";case M:return"wgs84ToWebMercator";case O:return"wgs84ToPlateCarree";case L:return"wgs84ToWGS84ECEF";case T:return"webMercatorToWGS84";case Na:return"webMercatorToSphericalECEF";case La:return"webMercatorToWGS84ECEF";case Ga:return"webMercatorToPlateCarree";case G:return"wgs84ECEFToWGS84";case fa:return"wgs84ECEFToSphericalECEF";case pa:return"wgs84ECEFToWebMercator";case N:return"sphericalECEFToWGS84";case Fa:return"sphericalECEFToWebMercator";case J:return"sphericalMarsPCPFToMars2000";case z:return"sphericalMoonPCPFToMoon2000";case Wa:return"sphericalECEFToWGS84ECEF";case D:return"mars2000ToSphericalPCPF";case v:return"moon2000ToSphericalPCPF";default:return null}}function _a(e,r){return e?r.spatialReference===e?r.spatialReferenceId:(r.spatialReference=e,"metersPerUnit"in r&&(r.metersPerUnit=Ra(e,1)),sa(e)?r.spatialReferenceId=a.SPHERICAL_ECEF:ta(e)?r.spatialReferenceId=a.WGS84:ra(e)?r.spatialReferenceId=a.WEB_MERCATOR:Ea(e)?r.spatialReferenceId=a.PLATE_CARREE:e.wkt===ua.wkt?r.spatialReferenceId=a.WGS84_ECEF:e.wkid===aa.CGCS2000?r.spatialReferenceId=a.CGCS2000:e.wkt===la.wkt?r.spatialReferenceId=a.SPHERICAL_MARS_PCPF:e.wkt===Sa.wkt?r.spatialReferenceId=a.SPHERICAL_MOON_PCPF:na(e)?r.spatialReferenceId=a.GCSMARS2000:Ca(e)?r.spatialReferenceId=a.GCSMOON2000:r.spatialReferenceId=a.UNKNOWN):a.UNKNOWN}function C(e,r,t,E){e!==t&&(t[E++]=e[r++],t[E++]=e[r++],t[E]=e[r])}function T(e,r,t,E){t[E]=d*(e[r]/F),t[E+1]=d*(Ia-2*Math.atan(Math.exp(-e[r+1]/F))),t[E+2]=e[r+2]}function Na(e,r,t,E){let l=e[r]/F,S=Ia-2*Math.atan(Math.exp(-e[r+1]/F)),u=F+e[r+2],n=Math.cos(S)*u;t[E]=Math.cos(l)*n,t[E+1]=Math.sin(l)*n,t[E+2]=Math.sin(S)*u}function La(e,r,t,E){T(e,r,t,E),L(t,E,t,E)}function Ha(e,r,t,E,l){let S=.4999999*K,u=oa(H*e[r+1],-S,S),n=Math.sin(u);t[E++]=H*e[r]*l.radius,t[E++]=l.halfSemiMajorAxis*Math.log((1+n)/(1-n)),t[E]=e[r+2]}function M(e,r,t,E){Ha(e,r,t,E,i)}function O(e,r,t,E){t[E]=e[r]*Ma,t[E+1]=e[r+1]*Ma,t[E+2]=e[r+2]}function I(e,r,t,E){t[E]=e[r]*Oa,t[E+1]=e[r+1]*Oa,t[E+2]=e[r+2]}function Ga(e,r,t,E){T(e,r,t,E),O(t,E,t,E)}function da(e,r,t,E){G(e,r,t,E),O(t,E,t,E)}function ma(e,r,t,E){N(e,r,t,E),O(t,E,t,E)}function Ua(e,r,t,E){I(e,r,t,E),h(t,E,t,E)}function Ka(e,r,t,E){I(e,r,t,E),M(t,E,t,E)}function wa(e,r,t,E){I(e,r,t,E),L(t,E,t,E)}function V(e,r,t,E,l){let S=l+e[r+2],u=H*e[r+1],n=H*e[r],s=Math.cos(u)*S;t[E]=Math.cos(n)*s,t[E+1]=Math.sin(n)*s,t[E+2]=Math.sin(u)*S}function v(e,r,t,E){V(e,r,t,E,x.radius)}function D(e,r,t,E){V(e,r,t,E,y.radius)}function h(e,r,t,E){V(e,r,t,E,i.radius)}function X(e,r,t,E,l){let S=e[r],u=e[r+1],n=e[r+2],s=Math.sqrt(S*S+u*u+n*n),o=ia(n/(s===0?1:s)),R=Math.atan2(u,S);t[E++]=d*R,t[E++]=d*o,t[E]=s-l}function z(e,r,t,E){X(e,r,t,E,x.radius)}function J(e,r,t,E){X(e,r,t,E,y.radius)}function N(e,r,t,E){X(e,r,t,E,i.radius)}function Fa(e,r,t,E){N(e,r,t,E),M(t,E,t,E)}function Wa(e,r,t,E){N(e,r,t,E),L(t,E,t,E)}function Ba(e,r,t,E,l){let S=H*e[r],u=H*e[r+1],n=e[r+2],s=Math.sin(u),o=Math.cos(u),R=l.radius/Math.sqrt(1-l.eccentricitySquared*s*s);t[E++]=(R+n)*o*Math.cos(S),t[E++]=(R+n)*o*Math.sin(S),t[E++]=(R*(1-l.eccentricitySquared)+n)*s}function L(e,r,t,E){Ba(e,r,t,E,i)}function G(e,r,t,E){let l=Aa,S=e[r],u=e[r+1],n=e[r+2],s,o,R,A,_,w,U,c,P,m,B,g,j,W,f,b,k,q,p,Z,$;s=Math.abs(n),o=S*S+u*u,R=Math.sqrt(o),A=o+n*n,_=Math.sqrt(A),Z=Math.atan2(u,S),w=n*n/A,U=o/A,W=l.a2/_,f=l.a3-l.a4/_,U>.3?(c=s/_*(1+U*(l.a1+W+w*f)/_),p=Math.asin(c),m=c*c,P=Math.sqrt(1-m)):(P=R/_*(1-w*(l.a5-W-U*f)/_),p=Math.acos(P),m=1-P*P,c=Math.sqrt(m)),B=1-i.eccentricitySquared*m,g=i.radius/Math.sqrt(B),j=l.a6*g,W=R-g*P,f=s-j*c,k=P*W+c*f,b=P*f-c*W,q=b/(j/B+k),p+=q,$=k+b*q/2,n<0&&(p=-p),t[E++]=d*Z,t[E++]=d*p,t[E]=$}function fa(e,r,t,E){G(e,r,t,E),h(t,E,t,E)}function pa(e,r,t,E){G(e,r,t,E),M(t,E,t,E)}function ga(e,r,t){if(e==null||r==null||t.source.spatialReference===e&&t.dest.spatialReference===r)return t;let E=_a(e,t.source),l=_a(r,t.dest);return E===a.UNKNOWN&&l===a.UNKNOWN?ea(e,r)?t.projector=C:t.projector=null:t.projector=ha[E][l],t}function Ta(){return{source:{spatialReference:null,spatialReferenceId:a.UNKNOWN,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:a.UNKNOWN,metersPerUnit:1},projector:C}}var za={spatialReference:null,spatialReferenceId:a.UNKNOWN},Ja={spatialReference:null,spatialReferenceId:a.UNKNOWN},Y=Ta(),H=ca(1),d=Pa(1),K=Math.PI,Ia=.5*K,F=i.radius,Ma=F*K/180,Oa=180/(F*K);function Xa(e,r,t,E,l,S,u=Math.floor(e.length/3)){let n=Q(r,l,Y);if(n==null)return!1;if(n===C){if(e===E&&t===S)return!0;let o=t+3*u;for(let R=t,A=S;R<o;R++,A++)E[A]=e[R];return!0}let s=t+3*u;for(let o=t,R=S;o<s;o+=3,R+=3)n(e,o,E,R);return!0}export{a,ha as b,Q as c,Da as d,_a as e,C as f,Ha as g,M as h,X as i,ga as j,Ta as k,za as l,Ja as m,Y as n,Oa as o,Xa as p};
