import{f as l}from"./chunk-X7XJWAFC.js";import{b as y,e as z}from"./chunk-NH3JQE75.js";import{a as A}from"./chunk-DBLGLVAQ.js";import{G as O,b as m,c as M,d as h,e as u,n as g,u as f,v as a,w}from"./chunk-2HUIJUS4.js";import{a as e,b as x}from"./chunk-PYQRTZNZ.js";import{a as S}from"./chunk-ANPNMGFG.js";import{g as P}from"./chunk-BP73DJTS.js";var _=class{constructor(i){this._allocator=i,this._items=[],this._itemsPtr=0,this._grow()}get(){return this._itemsPtr===0&&S(()=>this._reset()),this._itemsPtr===this._items.length&&this._grow(),this._items[this._itemsPtr++]}_reset(){let i=Math.min(3*Math.max(8,this._itemsPtr),this._itemsPtr+3*B);this._items.length=Math.min(i,this._items.length),this._itemsPtr=0}_grow(){for(let i=0;i<Math.max(8,Math.min(this._items.length,B));i++)this._items.push(this._allocator())}},B=1024;function d(t){return t?T(x(t.origin),x(t.direction)):T(e(),e())}function T(t,i){return{origin:t,direction:i}}function Y(t,i){return P(t.origin,i.origin)&&P(t.direction,i.direction)}function Z(t,i){let r=H.get();return r.origin=t,r.direction=i,r}function $(t,i=d()){return G(t.origin,t.direction,i)}function tt(t,i,r=d()){return m(r.origin,t),u(r.direction,i,t),r}function G(t,i,r=d()){return m(r.origin,t),m(r.direction,i),r}function it(t,i){let r=w(l.get(),f(l.get(),t.direction),u(l.get(),i,t.origin));return a(r,r)}function rt(t,i,r){let c=a(t.direction,u(r,i,t.origin));return h(r,t.origin,g(r,t.direction,c)),r}function st(t,i,r,c){let j=t.origin,q=i.origin,n=t.direction,o=i.direction,C=a(f(k,n),f(U,o));if(Math.abs(C)>=1)return null;let p=w(k,n,o),v=O(b,q,j),D=y(V,n[0],n[1],n[2],-o[0],-o[1],-o[2],p[0],p[1],p[2]),s=z(V,D);if(s==null)return[r,c];let E=a(M(k,s[0],s[3],s[6]),v),F=a(M(U,s[1],s[4],s[7]),v);return h(r,j,g(b,n,E)),h(c,q,g(b,o,F)),[r,c]}var H=new _(()=>d()),b=e(),k=e(),U=e(),V=A();export{_ as a,d as b,Y as c,Z as d,$ as e,tt as f,G as g,it as h,rt as i,st as j};
