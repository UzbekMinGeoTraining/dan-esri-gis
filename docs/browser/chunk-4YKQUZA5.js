import{e as x,f as _,i as Ce,j as xe,k as _e,l as we,m as Ge}from"./chunk-OW4OHJOK.js";import{a as Oe,b as De,c as Pe,d as U}from"./chunk-TWEIBILM.js";import{m as ve}from"./chunk-4FO73WSB.js";import{b as Le}from"./chunk-OT635BJR.js";import{c as fe,d as me,g as ue,h as j,i as de}from"./chunk-U45ID7OR.js";import{b as ge}from"./chunk-IW2AVHBW.js";import{b as ye}from"./chunk-RLQK45UV.js";import{a as pe}from"./chunk-NN4OC7FN.js";import{r as be}from"./chunk-OL43UY3L.js";import{a as ne,d as oe}from"./chunk-O4AQRVFI.js";import{d as le,r as se,t as ie}from"./chunk-EPTSNNZF.js";import{a as P}from"./chunk-7W6RATG7.js";import{c as he}from"./chunk-HWN5REN7.js";import{a as ce,c as H}from"./chunk-2HUIJUS4.js";import{a as F}from"./chunk-MBJHSEMD.js";import{c as ae,i as B}from"./chunk-PYQRTZNZ.js";import{a as te,c as re}from"./chunk-HRP5LYWJ.js";import{Q as D,S as ee}from"./chunk-GGZQ5GCM.js";import{U as X}from"./chunk-TFUPB3ZG.js";import{a as C}from"./chunk-BMVJCP2M.js";import{l as d,t as Q}from"./chunk-GMC3I5VG.js";import{c as T,e as K}from"./chunk-WGF2T2BG.js";import{r as O}from"./chunk-3IBUFXWY.js";import{g as y}from"./chunk-JEGVIFEP.js";function w(e){return e instanceof Ge?e.graphics3DSymbol:e instanceof we?e:null}var S=()=>O.getLogger("esri.views.3d.layers.graphics.labelPlacement"),I=class{constructor(t,r,a,l=null){this.graphics3DGraphic=t,this.labelSymbol=r,this.labelClass=a,this.disablePlacement=l}};function $(e){let t=Be(e);if(t==null)return null;let r=Te(e,t);if(r==null)return null;let a=r.anchor,l=!!t.hasLabelVerticalOffset,s=t.verticalOffset;return ze(new Oe(s,a,l),r,e)}function Te(e,t){if(t.anchor)return t;let r=e.labelClass.labelPlacement,a=h[r],l=a||z(e);return r&&!a&&S().warnOncePerTick(`the requested label placement '${r}' is currently unsupported in SceneView.`),Ie(l,e)}function R(e){let t=e.graphics3DGraphic.graphics3DSymbol,r=w(t);return r!=null?r.symbol.symbolLayers.at(0):null}function Ie(e,t){let r=t.graphics3DGraphic.graphic.geometry;if(r==null)return null;if(t.disablePlacement!=null)return t.labelClass.labelPlacement?(S().warnOncePerTick(Se(e?.placement,t.disablePlacement.logEntityDescription)),z(t)):e;let a=r.type;switch(a){case"polyline":case"polygon":case"extent":case"multipoint":if(t.labelClass.labelPlacement)return S().warnOncePerTick(Se(e?.placement,`'${a}' geometries`)),z(t);break;case"point":case"mesh":return e}return e}function Se(e,t){return`the requested label placement '${e}' is currently unsupported for ${t} in SceneView.`}function z(e){let t=e.graphics3DGraphic.graphic.geometry;if(t==null)return null;switch(t.type){case"polyline":case"extent":case"multipoint":return{placement:"center-center",normalizedOffset:B,anchor:"center"};case"polygon":{let r=R(e);return r!=null&&r.type==="extrude"?h["above-center"]:{placement:"center-center",normalizedOffset:B,anchor:"center"}}case"point":case"mesh":return h["above-center"];default:return}}function ze(e,t,r){let a=r.graphics3DGraphic.graphic.geometry;if(a==null)return null;switch(a.type){case"point":Ve(e,t,r);break;case"mesh":Ee(e,t,r);break;case"polygon":Re(e,t,r)}let l=ve-fe;return e.screenOffset[0]+=l*t.normalizedOffset[0],e.screenOffset[1]+=l*t.normalizedOffset[1],e}function Re(e,t,r){let a=R(r);if(a!=null)switch(a.type){case"extrude":{let l=r.graphics3DGraphic.layers[0];l!=null?(l.getBoundingBoxObjectSpace(G),ie(G,e.translation),e.translation[2]=se(G)/2):H(e.translation,0,0,0),W(e,t,l);break}}}function Ve(e,t,r){let a=R(r);if(a==null)return;let l=r.graphics3DGraphic.layers[0];switch(l!=null?l.getCenterObjectSpace(e.translation):H(e.translation,0,0,0),a.type){case"icon":case"text":ke(e,t,r,l);break;case"object":W(e,t,l)}}function Ee(e,t,r){let a=R(r);if(a==null)return;let l=r.graphics3DGraphic.layers[0];a.type==="fill"&&W(e,t,l)}function ke(e,t,r,a){let{graphics3DGraphic:l}=r,s=a!=null?a.getScreenSize():null;if(l.isDraped||s==null)e.hasLabelVerticalOffset||e.anchor==="center"||(h[r.labelClass.labelPlacement]&&S().warnOncePerTick(`the requested placement '${t.placement}' is currently unsupported for draped graphics`),e.anchor="center");else{let n=Me(r);e.screenOffset[0]=s[0]/2*(t.normalizedOffset[0]-n[0]);let i=s[1]/2*(t.normalizedOffset[1]-n[1]);e.hasLabelVerticalOffset?(e.centerOffset[1]=i,e.centerOffsetUnits="screen"):e.screenOffset[1]=i}}function Me(e,t=He){let{graphics3DGraphic:r}=e,a=r.layers[0],l=a?.stageObject.geometries[0].material??null;if(l&&l instanceof ge){let s=l.parameters.anchorPosition;t[0]=2*(s[0]-.5),t[1]=2*(s[1]-.5)}else t[0]=0,t[1]=0;return t}function W(e,t,r){let a=r!=null?r.getBoundingBoxObjectSpace(G):G,l=ae(a[3]-a[0],a[4]-a[1],a[5]-a[2]),s=Math.sqrt(l[0]*l[0]+l[1]*l[1]);e.centerOffset[0]=s/2*t.normalizedOffset[0];let n=e.translation[2],i=l[2]/2*t.normalizedOffset[1];e.translation[2]=0,e.elevationOffset=n+i;let o=ce(l);e.centerOffset[2]=o/2*t.normalizedOffset[2]}function Fe(e){return e==="above-center"}function Be(e){let t=e.labelClass.labelPlacement,{labelSymbol:r,graphics3DGraphic:a}=e,l=w(a.graphics3DSymbol),s=l?.symbol.type==="point-3d"?l.symbol:null,n=h[t]||z(e);return s!=null&&s.supportsCallout()&&s.hasVisibleVerticalOffset()&&!a.isDraped?{placement:null,hasLabelVerticalOffset:!1,verticalOffset:s.verticalOffset.clone(),anchor:null,normalizedOffset:null}:!r||!r.hasVisibleVerticalOffset()||s!=null&&s.supportsCallout()&&s.verticalOffset&&!a.isDraped?{placement:null,verticalOffset:null,anchor:null,normalizedOffset:null,hasLabelVerticalOffset:!1}:n&&Fe(n.placement)?{placement:"above-center",verticalOffset:r.verticalOffset.clone(),anchor:"bottom",normalizedOffset:[0,n.normalizedOffset[1],0],hasLabelVerticalOffset:!0}:(S().errorOncePerTick("Callouts and vertical offset on labels are currently only supported with 'above-center' label placement (not with "+t+" placement)"),null)}var h={"above-center":{placement:"above-center",normalizedOffset:[0,1,0],anchor:"bottom"},"above-left":{placement:"above-left",normalizedOffset:[-1,1,0],anchor:"bottom-right"},"above-right":{placement:"above-right",normalizedOffset:[1,1,0],anchor:"bottom-left"},"below-center":{placement:"below-center",normalizedOffset:[0,-1,2],anchor:"top"},"below-left":{placement:"below-left",normalizedOffset:[-1,-1,0],anchor:"top-right"},"below-right":{placement:"below-right",normalizedOffset:[1,-1,0],anchor:"top-left"},"center-center":{placement:"center-center",normalizedOffset:[0,0,1],anchor:"center"},"center-left":{placement:"center-left",normalizedOffset:[-1,0,0],anchor:"right"},"center-right":{placement:"center-right",normalizedOffset:[1,0,0],anchor:"left"}},Ae={"above-center":["default","esriServerPointLabelPlacementAboveCenter"],"above-left":["esriServerPointLabelPlacementAboveLeft"],"above-right":["esriServerPointLabelPlacementAboveRight"],"below-center":["esriServerPointLabelPlacementBelowCenter"],"below-left":["esriServerPointLabelPlacementBelowLeft"],"below-right":["esriServerPointLabelPlacementBelowRight"],"center-center":["esriServerPointLabelPlacementCenterCenter"],"center-left":["esriServerPointLabelPlacementCenterLeft"],"center-right":["esriServerPointLabelPlacementCenterRight"]};for(let e in Ae){let t=Ae[e],r=h[e];t.forEach(a=>{h[a]=r})}Object.freeze&&(Object.freeze(h),Object.keys(h).forEach(e=>{Object.freeze(h[e]),Object.freeze(h[e]?.normalizedOffset)}));var He=[0,0],G=le();var A=class{constructor(t){this._stage=t,this._materials=new Map}get(t){return this._materials.get(t)}add(t,r){this._materials.set(t,r),this._stage.add(r)}dispose(){this._stage.removeMany(Array.from(this._materials.values())),this._materials.clear()}};var E=class{constructor(t,r){this.labelingContext=t,this.graphics3DGraphic=r,this.hasGraphics3DResources=!1,this.visible=!1,this.textureAtlasHandles=[],this.textInitialized=!1,this.textRenderers=new Array,this.textLabelPlacements=new Array}},Z=class{constructor(t,r,a,l,s){this.labelClass=t,this.graphics3DSymbol=r,this.graphics3DCalloutSymbolLayer=a,this.textRenderParameters=l,this.labelFunction=s,this.calloutSymbolLayerIndex=0}},Y=class{constructor(t,r,a,l,s,n,i,o){this.layer=r,this.graphics3DCore=a,this.scaleVisibility=l,this.emptySymbolLabelSupported=s,this.elevationInfoOverride=n,this.disablePlacement=i,this.active=o,this.labelClassAbortController=new AbortController,this.labelClassContexts=new Array,this.graphics=new Map,this.labelsToInitialize=new Map,this.stageLayer=new Le(t,{pickable:!0,disableOctree:!0},r.uid)}destroy(){this.stageLayer.destroy()}},L=class extends ee{constructor(e){super(e),this._dirty=!1,this._labels=new Map,this._labelingContexts=new Array}setup(){this.dispose(),this.addHandles([F(()=>this.view.state?.camera,()=>this.setDirty()),F(()=>this.view.state?.rasterPixelRatio,()=>this._resetAllLabels()),this.view.resourceController.scheduler.registerTask(oe.LABELER,this)]),this._textTextureAtlas=new U({view:this.view}),this._hudMaterialCollection=new A(this.view._stage),this._calloutMaterialCollection=new A(this.view._stage)}dispose(){this.removeAllHandles(),this._textTextureAtlas=T(this._textTextureAtlas),this._hudMaterialCollection=T(this._hudMaterialCollection),this._calloutMaterialCollection=T(this._calloutMaterialCollection),this._labelingContexts.length=0,this._labels.clear()}destroy(){this.dispose(),p.graphic=null,p.renderingInfo=null,p.layer=null}_activateLabelingContext(e){e.graphics.forEach((t,r)=>{let a=new E(e,t);this._labels.set(r,a),e.labelsToInitialize.set(r,a),t.setVisibilityFlag(_.LABEL,x.USER,!0)}),e.active=!0}_deactivateLabelingContext(e){e.graphics.forEach((t,r)=>{t.setVisibilityFlag(_.LABEL,x.USER,!1),this.setLabelGraphicVisibility(t,!1),t.clearLabelGraphics(),this._labels.delete(r)}),e.active=!1}_addLabelTextureToAtlas(e){for(let t of e.graphics3DGraphic.labelLayers){if(!t._labelClass)continue;let r=e.textRenderers[t._labelIndex];r&&(e.textureAtlasHandles.push(this._textTextureAtlas.addText(r,a=>Ue(t.stageObject,a))),je(t.stageObject,r))}}_removeLabelTextureFromAtlas(e){e.textureAtlasHandles.forEach(t=>t.remove()),e.textureAtlasHandles.length=0}get running(){return this.view.ready&&(this._dirty||this.deconflictor.running)}runTask(e){return this._updateLabels(e),!this._dirty&&this.deconflictor.running&&this.deconflictor.runTask(e),ne}_updateLabels(e){if(this._dirty){this._dirty=!1;for(let t of this._labelingContexts)if(t.active){if(q(t))this._dirty=!0;else if(N(t.labelClassContexts)){if(t.labelClassContexts===null){this._deactivateLabelingContext(t);continue}this._createLabelClassContext(t),this._dirty=!0}else for(let[r,a]of t.labelsToInitialize)if(this._ensureGraphics3DResources(a)&&(this._labels.set(r,a),this.deconflictor.setDirty(),e.madeProgress()),(a.visible&&a.textInitialized||!a.visible&&a.hasGraphics3DResources)&&(t.labelsToInitialize.delete(r),e.madeProgress()),e.done){this._dirty=!0;break}}this._dirty||this.notifyChange("updating")}}_createLabelClassContextAsync(e){return y(this,null,function*(){let t=e.labelClassAbortController?.signal;e.layer.when&&(yield e.layer.when()),d(t),e.scaleVisibility?.updateScaleRangeActive();let r=e.graphics3DCore,a=r.layer,l=a.labelingInfo?.filter(n=>!!n.symbol);if(!l||l.length===0)return;let s=!1;yield te(l,(n,i)=>y(this,null,function*(){let o=n.symbol,f=w(r.getOrCreateGraphics3DSymbol(o));if(f==null)return void O.getLogger(this).error("Failed to create Graphics3DSymbol for label");yield f.load(),d(t);let b=null;be(o)&&o.hasVisibleCallout()&&(b=_e(o,r.symbolCreationContext),yield b.load(),d(t));let c=yield re(pe(n,e.layer.fieldsIndex,this.view.spatialReference));if(d(t),c.ok===!0){let m=yield this._createTextRenderParameters(f.symbol);d(t),e.labelClassContexts[i]=new Z(n,f,b,m,c.value)}else O.getLogger(this).error(`Label expression failed to evaluate: ${c.error}`),s=!0})),d(t)})}_createLabelClassContext(e){return y(this,null,function*(){return e.labelClassPromise==null&&(e.labelClassPromise=this._createLabelClassContextAsync(e).catch(t=>{if(Q(t))throw t;e.labelClassContexts.length=0}).then(()=>{e.labelClassAbortController=null,this.notifyChange("updating")}).catch(()=>{}),this.notifyChange("updating")),e.labelClassPromise})}_createTextRenderParameters(e){return y(this,null,function*(){let t=e.symbolLayers.at(0);return t?.type!=="text"?null:Pe.fromSymbol(t,this.view.state.rasterPixelRatio)})}_destroyLabelClassContext(e){for(let r of e.labelClassContexts)--r.graphics3DSymbol.referenced;let t=e.labelClassAbortController;e.labelClassAbortController=new AbortController,K(t),e.labelClassContexts.length=0,e.labelClassPromise=null,this.notifyChange("updating")}_createTextSymbolGraphic(e,t,r,a,l,s){let n=new De(r,j(r.anchor),de(r.anchor),e.text,he(e.displayWidth,e.displayHeight));return p.graphic=t,p.renderingInfo=null,p.layer=a,l.createLabel(p,n,this._hudMaterialCollection,this._textTextureAtlas,()=>{let i=$(s);return i?i.elevationOffset:null})}_createLineCalloutGraphic(e,t,r,a,l){p.graphic=e,p.layer=l;let s=a.screenOffset[0];return p.renderingInfo=new Ce(null,t,a.translation,a.centerOffset,s,a.centerOffsetUnits,a.elevationOffset,this._calloutMaterialCollection),r.createGraphics3DGraphic(p)}_ensureGraphics3DResources(e){if(e.hasGraphics3DResources)return!1;let t=e.graphics3DGraphic;if(t.destroyed)return!1;this._ensureTextTextureResources(e);let r=e.labelingContext,a=r.labelClassContexts;if(N(a)||!r.emptySymbolLabelSupported&&t.layers.length===0)return!1;let l=!1,s=t.graphic,n=r.layer,i=V(r.layer);for(let o=0;o<a.length;o++){let f=e.textRenderers[o],b=e.textLabelPlacements[o];if(f==null||b==null)continue;let c=a[o],m=c.graphics3DSymbol,g=m.symbol&&m.symbol.type==="label-3d"?m.symbol:null,v=m.symbolLayers[0];if(!v)continue;v.setElevationInfoOverride(r.elevationInfoOverride);let k=new I(t,g,c.labelClass),u=this._createTextSymbolGraphic(f,s,b,n,v,k);if(u==null)return!1;u._labelClass=c.labelClass,u._labelIndex=o,t.addLabelGraphic(u,r.stageLayer),t.deconflictionPriority=c.textRenderParameters?.definition.size??0,t.setVisibilityFlag(_.LABEL,x.USER,i),t.setVisibilityFlag(_.LABEL,x.SCALE_RANGE,!0),t.setVisibilityFlag(_.LABEL,x.DECONFLICTION,!1),l=!0;let M=c.graphics3DCalloutSymbolLayer;if(M&&b.hasLabelVerticalOffset){M.setElevationInfoOverride(r.elevationInfoOverride);let J=this._createLineCalloutGraphic(s,g,M,b,n);J!=null&&(c.calloutSymbolLayerIndex=t.labelLayers.length,t.addLabelGraphic(J,r.stageLayer))}break}return l&&r.scaleVisibility?.updateGraphicLabelScaleVisibility(t),e.hasGraphics3DResources=!0,!0}_destroyGraphics3DResources(e){let t=e.labelingContext.labelClassContexts;for(let r of e.graphics3DGraphic.labelLayers){if(r._labelClass==null)continue;t[r._labelIndex].graphics3DSymbol.symbolLayers[0]?.onRemoveGraphic(r)}e.graphics3DGraphic.deconflictionPriority=0,e.graphics3DGraphic.clearLabelGraphics(),e.hasGraphics3DResources=!1}_ensureTextTextureResources(e){if(e.textInitialized)return;let t=e.labelingContext,r=t.labelClassContexts;if(N(r))return;let a=e.graphics3DGraphic.graphic;for(let l=0;l<r.length;l++){let s=r[l];if(e.textRenderers[l]=null,e.textLabelPlacements[l]=null,s?.textRenderParameters==null)continue;let n=s.labelFunction,i;if(n.type==="arcade")try{let u=n.needsHydrationToEvaluate()?ye(a,t.layer):a;i=n.evaluate(u)}catch{i=null}else i=n.evaluate(a);if(i==null||i===""||/^\s+$/.test(i))continue;let o=s.graphics3DSymbol,f=o.symbol?.type==="label-3d"?o.symbol:null;if(!o.symbolLayers[0])continue;let b=e.graphics3DGraphic,c=s.labelClass,m=t.disablePlacement,g=$({graphics3DGraphic:b,labelSymbol:f,labelClass:c,disablePlacement:m});if(g==null)continue;let v=j(g.anchor),k=ue(v);e.textRenderers[l]=new me(i,k,s.textRenderParameters,U.maxSize),e.textLabelPlacements[l]=g}e.textInitialized=!0}_destroyTextTextureResources(e){e.textInitialized=!1,e.textRenderers.length=0,e.textLabelPlacements.length=0}_addGraphic(e,t){let r=t.graphic.uid;if(e.graphics.set(r,t),e.active){let a=new E(e,t);this._labels.set(r,a),e.labelsToInitialize.set(r,a)}this.setDirty(),this.deconflictor.setDirty()}_updateGraphicGeometry(e,t){let r=t.graphic.uid,a=this._labels.get(r);if(!a)return!0;for(let l of a.graphics3DGraphic.labelLayers)if(l._labelClass!=null&&!e.labelClassContexts[l._labelIndex].graphics3DSymbol.symbolLayers[0].updateGeometry(l,t.graphic.geometry))return!1;return this.setDirty(),this.deconflictor.setDirty(),!0}_removeGraphic(e,t){let r=t.graphic.uid,a=this._labels.get(r);e.graphics.delete(r),a&&(this._destroyGraphic(a,r),e.labelsToInitialize.delete(r),this.setDirty(),this.deconflictor.setDirty())}_destroyGraphic(e,t){this._labels.delete(t),e.textureAtlasHandles.length&&this._removeLabelTextureFromAtlas(e),this._destroyTextTextureResources(e),e.hasGraphics3DResources&&this._destroyGraphics3DResources(e)}_labelingInfoChange(e,t){return y(this,null,function*(){if(!t)return this._visibilityInfoChange(e),this._resetLabels(e),this._createLabelClassContext(e);for(let r of t){let a=e.graphics.get(r);a&&(this._removeGraphic(e,a),this._addGraphic(e,a))}})}_globalPropertyChanged(e,t){for(let r of t.labelClassContexts){let a=new Map;t.graphics.forEach(s=>a.set(s.graphic.uid,s));let l=s=>s.labelLayers[0];if(r.graphics3DSymbol.symbolLayers[0].globalPropertyChanged(e,a,l),r.graphics3DCalloutSymbolLayer){let s=n=>n.labelLayers[r.calloutSymbolLayerIndex];r.graphics3DCalloutSymbolLayer.globalPropertyChanged(e,a,s)}}}_visibilityInfoChange(e){let t=V(e.layer);t&&!e.active&&this._activateLabelingContext(e),!t&&e.active&&this._deactivateLabelingContext(e),this.setDirty()}_resetAllLabels(){for(let e of this._labelingContexts)this._resetLabels(e)}_resetLabels(e){e.graphics.forEach((t,r)=>{let a=this._labels.get(r);a&&(this._destroyGraphic(a,r),a.visible=!1,e.labelsToInitialize.set(r,a))}),this._destroyLabelClassContext(e),this.setDirty(),this.deconflictor.setDirty()}_findLabelingContext(e){for(let t of this._labelingContexts)if(t.graphics3DCore===e)return t;return null}addGraphicsOwner(e,t,r){let a=r?.emptySymbolLabelSupported||!1,l=r?.elevationInfoOverride||null,s=r?.disablePlacement||null;if(this._findLabelingContext(e))return;let n=e.layer,i=new Y(this.view._stage,n,e,t,a,l,s,V(n));return this._labelingContexts.push(i),this.setDirty(),{addGraphic:o=>this._addGraphic(i,o),removeGraphic:o=>this._removeGraphic(i,o),updateGraphicGeometry:o=>this._updateGraphicGeometry(i,o),layerLabelsEnabled:()=>V(i.layer),labelingInfoChange:o=>this._labelingInfoChange(i,o),elevationInfoChange:()=>this._globalPropertyChanged("elevationInfo",i),slicePlaneEnabledChange:()=>this._globalPropertyChanged("slicePlaneEnabled",i),visibilityInfoChange:()=>this._visibilityInfoChange(i),reset:()=>this._resetLabels(i),remove:()=>this._removeGraphicsOwner(e),setDirty:()=>this.setDirty()}}_removeGraphicsOwner(e){let t=this._findLabelingContext(e);if(!t)return;let r=this._labelingContexts.indexOf(t);this._labelingContexts.splice(r,1),t.graphics.forEach(a=>this._removeGraphic(t,a)),t.destroy(),this.setDirty()}setLabelGraphicVisibility(e,t){let r=e.graphic.uid,a=this._labels.get(r);a&&a.visible!==t&&(t&&!a.textureAtlasHandles.length?(this._addLabelTextureToAtlas(a),a.textInitialized||a.labelingContext.labelsToInitialize.set(r,a)):!t&&a.textureAtlasHandles.length&&this._removeLabelTextureFromAtlas(a),a.visible=t,this.setDirty())}setDirty(){!this._dirty&&this._labelingContexts.length>0&&(this._dirty=!0,this.notifyChange("updating"))}get updating(){return this._dirty||this._textTextureAtlas?.updating||this.deconflictor.updating||this._labelingContexts.some(e=>q(e))}get updatingProgress(){if(!this.updating||!this._textTextureAtlas)return 1;let e=this._labelingContexts.length>0?this._labelingContexts.reduce((t,r)=>t+(q(r)?0:1),0)/this._labelingContexts.length:1;return(this._dirty?0:.3)+(this._textTextureAtlas.updating?0:.1)+.1*e+.5*this.deconflictor.updatingProgress}get test(){}};function je(e,t){e.geometries[0].setAttributeData(P.SIZE,[t.displayWidth,t.displayHeight]),e.geometryVertexAttributeUpdated(e.geometries[0],P.SIZE)}function Ue(e,t){e.geometries[0].setAttributeData(P.UV0,t),e.geometryVertexAttributeUpdated(e.geometries[0],P.UV0,!0)}function q(e){return!!e.labelClassPromise&&!!e.labelClassAbortController}function N(e){return!e||e.length===0}function V(e){return e.labelsVisible===!0&&!!e.labelingInfo?.some(t=>!!t.symbol)}C([D({constructOnly:!0})],L.prototype,"view",void 0),C([D({constructOnly:!0})],L.prototype,"deconflictor",void 0),C([D()],L.prototype,"_textTextureAtlas",void 0),C([D({type:Boolean,readOnly:!0})],L.prototype,"updating",null),L=C([X("esri.views.3d.layers.graphics.Labeler")],L);var p=new xe(null,null,null);export{L as a,V as b};
