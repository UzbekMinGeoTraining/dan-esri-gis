import{a as x}from"./chunk-ZAR3FBU3.js";import{j as l}from"./chunk-4QRGVGHK.js";import{a as w}from"./chunk-3A66AUSD.js";import{e as h}from"./chunk-AKDLIRLE.js";import{e as g,j as b}from"./chunk-5TKTI2G2.js";import{b as y}from"./chunk-GYH7NDHH.js";import{b as v}from"./chunk-5PTS4JDF.js";import{u as p}from"./chunk-TFUPB3ZG.js";import{f as m}from"./chunk-BP73DJTS.js";import{a as c,b as d,d as f,g as u}from"./chunk-JEGVIFEP.js";var _={anchor:"esri-widget__anchor",anchorDisabled:"esri-widget__anchor--disabled",button:"esri-button",buttonDisabled:"esri-button--disabled",buttonHalf:"esri-button--half",buttonSecondary:"esri-button--secondary",buttonSmall:"esri-button--small",buttonTertiary:"esri-button--tertiary",buttonThird:"esri-button--third",disabled:"esri-disabled",empty:"esri-widget__content--empty",emptyIllustration:"esri-widget__content-illustration--empty",heading:"esri-widget__heading",hidden:"esri-hidden",input:"esri-input",interactive:"esri-interactive",loader:"esri-widget__loader",loaderAnimation:"esri-widget__loader-animation",loaderText:"esri-widget__loader-text",menu:"esri-menu",menuHeader:"esri-menu__header",menuItem:"esri-menu__list-item",menuItemActive:"esri-menu__list-item--active",menuItemFocus:"esri-menu__list-item--focus",menuList:"esri-menu__list",panel:"esri-widget--panel",panelHeightOnly:"esri-widget--panel-height-only",primaryTick:"primary-tick",primaryTickAmPm:"primary-tick__ampm",primaryTickLabel:"primary-tick__label",rotating:"esri-rotating",secondaryTick:"secondary-tick",select:"esri-select",table:"esri-widget__table",widget:"esri-widget",widgetButton:"esri-widget--button",widgetButtonActive:"esri-widget--button-active",widgetDisabled:"esri-widget--disabled"};function B(r,o){var a=r,{level:e,class:t}=a,i=f(a,["level","class"]);let s=k(e);return h(`h${s}`,d(c({},i),{"aria-level":String(s),class:g(_.heading,t),role:"heading"}),o)}function k(e){return v(Math.ceil(e),1,6)}function M(e,t=1){return k(e+t)}function q(e){return t=>{t.hasOwnProperty("_delegatedEventNames")||(t._delegatedEventNames=t._delegatedEventNames?t._delegatedEventNames.slice():[]);let i=t._delegatedEventNames,o=Array.isArray(e)?e:E(e);i.push(...o)}}function E(e){return e.split(",").map(t=>t.trim())}function F(e){if(!e.colorStops)return[];let t=[...e.colorStops].filter(o=>o.color?.a>0),i=t.length-1;if(t&&t[0]){let o=t[i];o&&o.ratio!==1&&(t.push(new w({ratio:1,color:o.color})),i++)}return t.map((o,r)=>{let a="";return r===0?a=e.legendOptions?.minLabel||"low":r===i&&(a=e.legendOptions?.maxLabel||"high"),{color:o.color,label:a,ratio:o.ratio}}).reverse()}var le=y("short-date");function n(e,t,i){return u(this,null,function*(){p(e,t,()=>[]).push(...i)})}function ue(e){return u(this,null,function*(){let t=new Map;if(!e)return t;if("visualVariables"in e&&e.visualVariables){let i=e.visualVariables.filter(o=>o.type==="color");for(let o of i){let r=((yield x(o))??[]).map(a=>a.color);yield n(t,o.field||o.valueExpression,r)}}if(e.type==="heatmap"){let i=F(e).map(o=>o.color);yield n(t,e.field||e.valueExpression,i)}else if(e.type==="pie-chart"){for(let i of e.attributes)yield n(t,i.field||i.valueExpression,[i.color]);yield n(t,"default",[e?.othersCategory?.color,l(e.backgroundFillSymbol,null)])}else if(e.type==="dot-density"){for(let i of e.attributes)yield n(t,i.field||i.valueExpression,[i.color]);yield n(t,"default",[e.backgroundColor])}else if(e.type==="unique-value")if(e.authoringInfo?.type==="predominance")for(let i of e.uniqueValueInfos??[])yield n(t,i.value.toString(),[l(i.symbol,null)]);else{let i=(e.uniqueValueInfos??[]).map(V=>l(V.symbol,null)),{field:o,field2:r,field3:a,valueExpression:s}=e;(o||s)&&(yield n(t,o||s,i)),r&&(yield n(t,r,i)),a&&(yield n(t,a,i))}else if(e.type==="class-breaks"){let i=e.classBreakInfos.map(a=>l(a.symbol,null)),{field:o,valueExpression:r}=e;yield n(t,o??r,i)}else e.type==="simple"&&(yield n(t,"default",[l(e.symbol,null)]));return"defaultSymbol"in e&&e.defaultSymbol&&(yield n(t,"default",[l(e.defaultSymbol,null)])),t.forEach((i,o)=>{let r=m(i.filter(Boolean),(a,s)=>JSON.stringify(a)===JSON.stringify(s));t.set(o,r)}),t})}var fe={close:"esri-icon-close",collapse:"esri-icon-collapse",down:"esri-icon-down",downArrow:"esri-icon-down-arrow",dragHorizontal:"esri-icon-drag-horizontal",dragVertical:"esri-icon-drag-vertical",duplicate:"esri-icon-duplicate",expand:"esri-icon-expand",fontFallbackText:"esri-icon-font-fallback-text",forward:"esri-icon-forward",handleVertical:"esri-icon-handle-vertical",icon:"esri-icon",left:"esri-icon-left",locateCircled:"esri-icon-locate-circled",noticeTriangle:"esri-icon-notice-triangle",pause:"esri-icon-pause",play:"esri-icon-play",plus:"esri-icon-plus",radioChecked:"esri-icon-radio-checked",radioUnchecked:"esri-icon-radio-unchecked",refresh:"esri-icon-refresh",reverse:"esri-icon-reverse",right:"esri-icon-right",search:"esri-icon-search",swap:"esri-icon-swap",table:"esri-icon-table",trash:"esri-icon-trash",up:"esri-icon-up",upArrow:"esri-icon-up-arrow",upDownArrows:"esri-icon-up-down-arrows",urbanModel:"esri-icon-urban-model",zoomInMagnifyingGlass:"esri-icon-zoom-in-magnifying-glass",zoomToObject:"esri-icon-zoom-to-object"};function ye(){return function(e,t){if(!e[t])throw new TypeError(`Cannot auto bind undefined function '${String(t)}'`);return{value:z(e[t])}}}function S(e){let t=e?.type;return e instanceof KeyboardEvent||t==="keyup"||t==="keydown"||t==="keypress"}function z(e){return function(t,...i){S(t)?b(t.key)&&(t.preventDefault(),t.stopPropagation(),t.target.click()):e.call(this,t,...i)}}export{_ as a,fe as b,B as c,M as d,ye as e,q as f,F as g,ue as h};
