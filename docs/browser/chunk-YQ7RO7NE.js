import{a as f,b as c}from"./chunk-OQ4WL4CW.js";import"./chunk-VAYZZQCL.js";import"./chunk-PD3MYUGK.js";import"./chunk-M2LOI65L.js";import{a as z}from"./chunk-D6SC6ZQM.js";import"./chunk-NUHIEXKU.js";import"./chunk-CEM45EZZ.js";import"./chunk-GLY75KSJ.js";import"./chunk-H7LSTWKZ.js";import{c as _}from"./chunk-3KFX3FFC.js";import"./chunk-6VHG3ZEH.js";import"./chunk-N3AGC3JB.js";import"./chunk-K55ZDM2S.js";import"./chunk-3ZOLHUAU.js";import"./chunk-7ISKCG7U.js";import"./chunk-OFGHVREP.js";import"./chunk-42DKYLC7.js";import{a as S}from"./chunk-PL6CVK2A.js";import"./chunk-J2R7NR2E.js";import"./chunk-VPH54J3G.js";import{a as O}from"./chunk-OD6TX477.js";import{a as A}from"./chunk-ISUG5L3D.js";import"./chunk-X7XJWAFC.js";import"./chunk-CYCLIMTY.js";import"./chunk-Q6ZVH4MK.js";import"./chunk-GKUDWGVQ.js";import"./chunk-NH3JQE75.js";import"./chunk-XXOIKNT6.js";import"./chunk-DBLGLVAQ.js";import"./chunk-63EK7JRZ.js";import"./chunk-HVNRUZWJ.js";import"./chunk-6EZNY6L4.js";import"./chunk-3IK5VXZ3.js";import"./chunk-EN6CTWVM.js";import{e as E,i as L,l as R}from"./chunk-EPTSNNZF.js";import{j}from"./chunk-FW33MEBA.js";import"./chunk-RM6CXOHZ.js";import"./chunk-AOA5JMXK.js";import"./chunk-TWW3KW7Z.js";import"./chunk-HWN5REN7.js";import"./chunk-2HUIJUS4.js";import"./chunk-VDNXTMSC.js";import{a as m,i as d}from"./chunk-MBJHSEMD.js";import"./chunk-2R4SNL6O.js";import{a as h,b as w}from"./chunk-MXOOOTCV.js";import"./chunk-7D4IYTAJ.js";import"./chunk-TSNWBMBA.js";import"./chunk-GLWPOGYF.js";import"./chunk-OFZ6SV37.js";import"./chunk-5MNDZ6BX.js";import"./chunk-YSOJWUIW.js";import"./chunk-Q5WFUDPQ.js";import"./chunk-T7BKG6V3.js";import"./chunk-R6VC74T7.js";import"./chunk-6WKJD7BM.js";import"./chunk-3CR7P5WT.js";import"./chunk-YRTBL7EE.js";import"./chunk-3FPO2LOS.js";import"./chunk-QNZSBADV.js";import"./chunk-PYQRTZNZ.js";import"./chunk-S4PLWG55.js";import"./chunk-DZAY272R.js";import"./chunk-GYH7NDHH.js";import"./chunk-S3UQHW42.js";import{c as l}from"./chunk-VQHENXDQ.js";import"./chunk-VWF5VUO3.js";import"./chunk-HRP5LYWJ.js";import"./chunk-BIVFGNT6.js";import"./chunk-BRVOQZDM.js";import"./chunk-3M7VXIQH.js";import"./chunk-TBYT66N3.js";import"./chunk-5PTS4JDF.js";import"./chunk-MUI46NAG.js";import"./chunk-N27U3N2T.js";import"./chunk-4R5NBZMW.js";import"./chunk-NDYVXEZ5.js";import"./chunk-CMMPCPP5.js";import"./chunk-4DLSYLKE.js";import"./chunk-VPXBKZQM.js";import"./chunk-ZTKK3KB7.js";import"./chunk-GZXWFBZI.js";import"./chunk-B7IARA3F.js";import"./chunk-IZVEJCCI.js";import"./chunk-TEY6TKJV.js";import"./chunk-4M6XQSBA.js";import"./chunk-2JF6YUJG.js";import{Q as r}from"./chunk-GGZQ5GCM.js";import{U as u}from"./chunk-TFUPB3ZG.js";import"./chunk-ANPNMGFG.js";import{a as e}from"./chunk-BMVJCP2M.js";import"./chunk-GMC3I5VG.js";import"./chunk-WGF2T2BG.js";import"./chunk-YZP43POT.js";import"./chunk-VEDIBGHD.js";import"./chunk-3IBUFXWY.js";import"./chunk-BP73DJTS.js";import{g as y}from"./chunk-JEGVIFEP.js";var v=l.ofType(c),o=class extends z{constructor(t){super(t),this.type="line-of-sight",this.observer=null,this.extent=null}initialize(){this.addHandles(m(()=>this._computeExtent(),t=>{t?.pending==null&&this._set("extent",t!=null?t.extent:null)},d))}get targets(){return this._get("targets")||new v}set targets(t){this._set("targets",h(t,this.targets,v))}get spatialReference(){return this.observer?.position!=null?this.observer.position.spatialReference:null}get requiredPropertiesForEditing(){return[this.observer?.position]}waitComputeExtent(){return y(this,null,function*(){let t=this._computeExtent();return t!=null?t.pending:Promise.resolve()})}_computeExtent(){let t=this.spatialReference;if(this.observer?.position==null||t==null)return null;let s=a=>_(a.position,a.elevationInfo)==="absolute-height",n=this.observer.position,b=E(n.x,n.y,n.z,n.x,n.y,n.z);for(let a of this.targets)if(a.position!=null){let p=j(a.position,t);if(p.pending!=null)return{pending:p.pending,extent:null};if(p.geometry!=null){let{x:M,y:P,z:T}=p.geometry;R(b,[M,P,T])}}let g=L(b,t);return s(this.observer)&&this.targets.every(s)||(g.zmin=void 0,g.zmax=void 0),{pending:null,extent:g}}clear(){this.observer=null,this.targets.removeAll()}};e([r({type:["line-of-sight"]})],o.prototype,"type",void 0),e([r({type:f,json:{read:!0,write:!0}})],o.prototype,"observer",void 0),e([r({cast:w,type:v,nonNullable:!0,json:{read:!0,write:!0}})],o.prototype,"targets",null),e([r({value:null,readOnly:!0})],o.prototype,"extent",void 0),e([r({readOnly:!0})],o.prototype,"spatialReference",null),e([r({readOnly:!0})],o.prototype,"requiredPropertiesForEditing",null),o=e([u("esri.analysis.LineOfSightAnalysis")],o);var x=o;var q=l.ofType(c),i=class extends S(O(A)){constructor(t){super(t),this.type="line-of-sight",this.operationalLayerType="LineOfSightLayer",this.analysis=new x,this.opacity=1}initialize(){this.addHandles(m(()=>this.analysis,(t,s)=>{s!=null&&s.parent===this&&(s.parent=null),t!=null&&(t.parent=this)},d))}load(){return y(this,null,function*(){return this.analysis!=null&&this.addResolvingPromise(this.analysis.waitComputeExtent()),this})}get observer(){return this.analysis?.observer}set observer(t){let{analysis:s}=this;s&&(s.observer=t)}get targets(){return this.analysis!=null?this.analysis.targets:new l}set targets(t){h(t,this.analysis?.targets)}get fullExtent(){return this.analysis!=null?this.analysis.extent:null}get spatialReference(){return this.analysis!=null?this.analysis.spatialReference:null}releaseAnalysis(t){this.analysis===t&&(this.analysis=new x)}};e([r({json:{read:!1},readOnly:!0})],i.prototype,"type",void 0),e([r({type:["LineOfSightLayer"]})],i.prototype,"operationalLayerType",void 0),e([r({type:f,json:{read:!0,write:{isRequired:!0,ignoreOrigin:!0}}})],i.prototype,"observer",null),e([r({type:q,json:{read:!0,write:{ignoreOrigin:!0}}})],i.prototype,"targets",null),e([r({nonNullable:!0,json:{read:!1,write:!1}})],i.prototype,"analysis",void 0),e([r({readOnly:!0})],i.prototype,"fullExtent",null),e([r({readOnly:!0})],i.prototype,"spatialReference",null),e([r({readOnly:!0,json:{read:!1,write:!1,origins:{service:{read:!1,write:!1},"portal-item":{read:!1,write:!1},"web-document":{read:!1,write:!1}}}})],i.prototype,"opacity",void 0),e([r({type:["show","hide"]})],i.prototype,"listMode",void 0),i=e([u("esri.layers.LineOfSightLayer")],i);var ht=i;export{ht as default};
