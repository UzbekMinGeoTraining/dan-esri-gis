import{b as jt}from"./chunk-2HYJESCC.js";import{d as Qe,e as y}from"./chunk-VJX4SEWU.js";import{d as Ft,e as _t,f as Gt}from"./chunk-OZ5LGYCJ.js";import{d as Je}from"./chunk-F7R3VTP4.js";import{a as Ke}from"./chunk-AJSXTGZB.js";import{l as Ye,m as We,n as Xe,v as kt}from"./chunk-3KFX3FFC.js";import{a as $,b as Ot}from"./chunk-2WNCPIJC.js";import{c as Fe,e as Ge,j as je,n as Ze}from"./chunk-7ISKCG7U.js";import{A as ze,G as vt,K as He,N as Ht,P as it,Q as Oe,m as Tt,u as v,z as B}from"./chunk-X7XJWAFC.js";import{b as Ne}from"./chunk-ZGDQY5ZD.js";import{a as Re}from"./chunk-TWW3KW7Z.js";import{a as D,c as st,f as Ie}from"./chunk-HWN5REN7.js";import{b as Lt,d as q,h as tt,j as yt,k as we,l as et,o as Q,q as Ve,v as zt,y as Se}from"./chunk-XTES2GPX.js";import{D as A,E as De,G as T,K as At,b as Pt,c as b,e as nt,o as L,p as Et,q as rt,r as qe,u as be,v as P,w as U}from"./chunk-2HUIJUS4.js";import{a as Pe,i as Ee}from"./chunk-MBJHSEMD.js";import{f as _e}from"./chunk-2R4SNL6O.js";import{b as ke}from"./chunk-TSNWBMBA.js";import{a as xe}from"./chunk-YRTBL7EE.js";import{c as Ce,j as Me}from"./chunk-3FPO2LOS.js";import{a as K}from"./chunk-QNZSBADV.js";import{a as l,b as S,c as J,m as ve}from"./chunk-PYQRTZNZ.js";import{l as Ae,m as Te}from"./chunk-5PTS4JDF.js";import{E as ye}from"./chunk-GGZQ5GCM.js";import{g as ge,u as Le}from"./chunk-BP73DJTS.js";var Y;function Zt(e,t,n){return k(e,t,n)}function k(e=0,t=0,n=0){return J(e,t,n)}function I(e,t,n){return J(e,t,n)}function W(e){let[t,n,r]=e;return e.length>3?[t,n,r,e[3]]:[t,n,r]}function Kn(e){return e[3]=((e.length>3?e[3]:void 0)??Y.NONE)|Y.TARGET,e}function Qn(e){return!!(((e.length>3?e[3]:void 0)??Y.NONE)&Y.TARGET)}function Yt(e,t,{coordinateHelper:n,elevationInfo:r},s){return e?mn(n.vectorToDehydratedPoint(e,gn),t,r,s):null}function mn(e,t,n,r=k()){return r[0]=e.x,r[1]=e.y,r[2]=e.z??0,t==null||(t.type==="2d"?r[2]=0:r[2]=Ye(t,e,n,kt)??0),r}function Un(e,t,n){return n?(Ot(n,e[0],e[1],e[2],t),n):$(e[0],e[1],e[2],t)}function Bn(e,t,{z:n,m:r},s,i){let{spatialReference:o,elevationInfo:a}=s,c;n==null&&r==null?c=void 0:t==null||t.type==="2d"?c=n??void 0:c=We(t,e,o,kt,a)??0;let[u,f]=e;return i?Ot(i,u,f,c,o):i=$(u,f,c,o),r!=null&&(i.m=r,i.hasM=!0),i}function $n(e,t,n,r,s=k()){let[i,o]=e;return s[0]=i,s[1]=o,e.length>3&&(s[3]=e[3]??Y.NONE),n?.type!=="3d"?(s[2]=t.value,s):(s[2]=Xe(n,i,o,t.value,r,t.elevationInfo,kt)??0,s)}(function(e){e[e.NONE=0]="NONE",e[e.TARGET=1]="TARGET"})(Y||(Y={}));var gn=$(0,0,0,null);var Nt;(function(e){e[e.FEATURE=1]="FEATURE",e[e.SELF=2]="SELF",e[e.ALL=3]="ALL"})(Nt||(Nt={}));function Mt({start:e,end:t,type:n},r,s){let i=[],o=q(at,t,e),a=q(Rt,e,r),c=et(o),u=2*Q(o,a),f=u*u-4*c*(et(a)-s*s);if(f===0){let d=-u/(2*c);(n===_.PLANE||d>=0)&&i.push(tt(D(),e,o,d))}else if(f>0){let d=Math.sqrt(f),g=(-u+d)/(2*c);(n===_.PLANE||g>=0)&&i.push(tt(D(),e,o,g));let h=(-u-d)/(2*c);(n===_.PLANE||h>=0)&&i.push(tt(D(),e,o,h))}return i}function Xt(e,t){let n=e.start,r=e.end,s=q(at,r,n),i=b(Vt,-s[1],s[0],0),o=t.start,a=t.end,c=T(ee,a,o),u=P(c,i),f=b(tn,n[0],n[1],0),d=T(en,f,o),g=P(d,i),h=K();if(Math.abs(u)<h)return Math.abs(g),[];let m=L(nn,o,c,g/u);if(t.type===y.RAY){let E=T(Wt,m,o);if(P(E,c)<-h)return[]}if(e.type===_.HALF_PLANE){let E=Se(Rt,m,n);if(Q(E,s)<-h)return[]}return[S(m)]}function Ue(e,t){return Ln(Ct(ne,t[2],e),t)}function Jt(e,t){return $t(Ct(ne,0,e),Ct(En,0,t)).map(([r,s])=>st(r,s))}function Kt(e,t,n){return Ut(e,Ct(ne,e[2],t),n)}function Qt(e,t,n,r=l()){let s=q(at,e,t),i=we(s);return tt(r,t,s,i===0?1:n/i),r[2]=e[2],r}function Ut(e,{start:t,end:n,type:r},s=l()){let i=T(wt,e,t),o=T(Vt,n,t),a=P(i,o)/P(o,o);return L(s,t,o,r===y.RAY?Math.max(a,0):a)}var Be=(()=>{let e=l(),t=l(),n=l();return({start:r,end:s},{center:i,radius:o,normal:a,slicePlane:c})=>{let u=B(i,a,Pn);if(p(it(u,r),0)&&p(it(u,s),0)){Tt(a,e,t);let d=(m,E)=>(nt(n,E,i),Lt(m,P(n,e),P(n,t)),m),g=Qe({start:d(at,r),end:d(Rt,s),type:y.LINE},Ie,o),h=[];for(let[m,E]of g){let C=Pt(l(),i);L(C,C,e,m),L(C,C,t,E),c&&!z(c,C)||h.push(C)}return h}let f=l();return vt(u,r,s,f)?!p(Et(f,i),o)||c&&!z(c,f)?[]:[f]:[]}})();function Bt({start:e,end:t,type:n},r,s){let i=[],o=nt(wt,t,e),a=q(Rt,e,r),c=et(o),u=2*Q(o,a),f=u*u-4*c*(et(a)-s*s);if(f===0){let d=-u/(2*c);(n===y.LINE||d>=0)&&i.push(L(l(),e,o,d))}else if(f>0){let d=Math.sqrt(f),g=(-u+d)/(2*c);(n===y.LINE||g>=0)&&i.push(L(l(),e,o,g));let h=(-u-d)/(2*c);(n===y.LINE||h>=0)&&i.push(L(l(),e,o,h))}return i}function $t(e,t){let n=e.start,r=e.end,s=t.start,i=t.end,o=T(wt,r,n),a=T(Vt,i,s),c=T(ee,s,n),u=U(tn,o,a);if(!p(P(c,u),0))return[];let f=At(u);if(p(f,0))return[];let d=U(en,c,a),g=P(d,u)/f,h=L(nn,n,o,g);if(e.type===y.RAY){let m=T(Wt,h,n);if(P(o,m)<-K())return[]}if(t.type===y.RAY){let m=T(Wt,h,s);if(P(a,m)<-K())return[]}return[S(h)]}function Ln({start:e,end:t,type:n},r){let s=T(wt,r,e),i=T(Vt,t,e),o=U(ee,i,s),a=At(o)/At(i),c=K();if(a<c)switch(n){case y.LINE:return[S(r)];case y.RAY:return P(i,s)<-c?[]:[S(r)]}return[]}function xt(e,t,n,r){let[s,i]=e,[o,a]=n,c=o-s,u=a-i,f=c*c+u*u,d=Math.sqrt(f);if(d>t+r)return[];if(d<Math.abs(t-r))return[];if(p(d,0)&&p(t,r))return[];let g=(t*t-r*r+f)/(2*d),h=Math.sqrt(t*t-g*g),m=h*u/d,E=h*c/d,[C,Z]=Ve(at,e,n,g/d);return p(m,E)?[st(C,Z)]:[st(C+m,Z-E),st(C-m,Z+E)]}function Ct(e,t,{start:n,end:r,type:s}){return b(e.start,n[0],n[1],t),b(e.end,r[0],r[1],t),e.type=yn[s],e}function te(e,t){return p(e[2],t[2])}function p(e,t){return Te(Math.abs(e-t),0,K())}function $e(e,t){return t.filter(n=>z(e,n))}function z(e,t){return He(e,t)}var _;(function(e){e[e.PLANE=0]="PLANE",e[e.HALF_PLANE=1]="HALF_PLANE"})(_||(_={}));var yn={[_.PLANE]:y.LINE,[_.HALF_PLANE]:y.RAY},at=D(),Rt=D(),wt=l(),Vt=l(),ee=l(),tn=l(),en=l(),nn=l(),Wt=l(),Pn=v(),ne={start:l(),end:l(),type:y.LINE},En={start:l(),end:l(),type:y.LINE};var N=class{intersect(t){return H(this,t)}closestPoints(t){return[this.closestTo(t)]}},X=class extends N{constructor(t){super(),this.point=t}equals(t){return this===t||M(t)&&A(this.point,t.point)}closestTo(){return W(this.point)}},ct=class extends N{constructor(t,n,r){super(),this.start=t,this.end=n,this.lineLike={start:t,end:n,type:r}}equals(t){return this===t||R(t)&&this.lineLike.type===t.lineLike.type&&A(this.start,t.start)&&A(this.end,t.end)}closestTo(t){let n=k();return Ut(t,this.lineLike,n),n}},St=class extends ct{constructor(t,n){super(t,n,y.LINE)}},ie=class extends ct{constructor(t,n){super(t,n,y.RAY)}},qt=class extends N{constructor(t){super(),this.constraints=t}equals(t){return this===t||de(t)&&ge(this.constraints,t.constraints,(n,r)=>n.equals(r))}closestTo(t){let n,r=1/0;for(let s of this.constraints){let i=s.closestTo(t),o=rt(t,i);o<r&&(r=o,n=i)}return W(n??t)}closestPoints(t){return this.constraints.flatMap(n=>n===this?[]:n.closestPoints(t))}},ae=class extends N{constructor(t,n){super(),this.center=t,this.radius=n}equals(t){return this===t||V(t)&&this.center[0]===t.center[0]&&this.center[1]===t.center[1]&&this.radius===t.radius}closestTo(t){let n=k();return Qt(t,this.center,this.radius,n),n}},ut=class extends N{constructor(t,n){super(),this.center=t,this.radius=n}equals(t){return this===t||F(t)&&A(this.center,t.center)&&this.radius===t.radius}closestTo(t){let n=k();return Qt(t,this.center,this.radius,n),n[2]=this.center[2],n}asCircle(){return new lt(W(this.center),this.radius,I(0,0,1))}},lt=class extends N{constructor(t,n,r,s=void 0){super(),this.center=t,this.radius=n,this.normal=r,this.slicePlane=s}equals(t){return this===t||j(t)&&A(this.center,t.center)&&A(this.normal,t.normal)&&this.radius===t.radius}closestTo(t){let{center:n,radius:r}=this;Ht(this.getPlane(An),t,re);let s=T(re,re,n),i=qe(s);if(p(i,0))return W(t);let o=r/Math.sqrt(i),a=k();L(a,n,s,o);let{slicePlane:c}=this;return c&&!z(c,a)?pe(c,this)?.closestTo(t)??W(t):a}getPlane(t=v()){return B(this.center,this.normal,t)}},re=l(),An=v(),oe=class extends N{constructor(t){super(),this.z=t}equals(t){return this===t||O(t)&&this.z===t.z}closestTo(t){return I(t[0],t[1],this.z)}getPlane(t=v()){return b(rn,0,0,this.z),B(rn,ve,t)}},rn=l(),ft=class extends N{constructor(t,n,r){super(),this.start=t,this.end=n,this.planeLike={start:t,end:n,type:r}}equals(t){return this===t||w(t)&&this.planeLike.type===t.planeLike.type&&A(this.start,t.start)&&A(this.end,t.end)}closestTo(t){let n=k();return Kt(t,this.planeLike,n),n}closestEndTo(t){let{start:n,end:r}=this.planeLike;return Math.sign(Q(q(Tn,r,n),q(vn,t,n)))>0?this.end:this.start}getPlane(t=v()){let n=Pt(sn,this.end);return n[2]+=1,ze(this.start,this.end,n,t)}getSlicePlane(t=v()){let{start:n,end:r,type:s}=this.planeLike;if(s===_.PLANE)return;let i=b(sn,n[0],n[1],0),o=b(an,r[0],r[1],0),a=nt(an,o,i);return B(i,a,t),t}},Tn=D(),vn=D(),sn=l(),an=l(),on=class extends ft{constructor(t,n){super(t,n,_.HALF_PLANE)}},cn=class extends ft{constructor(t,n){super(t,n,_.PLANE)}},ce=class extends N{constructor(t,n){super(),this.sphere=Ge(t,n)}equals(t){return this===t||G(t)&&Fe(this.sphere,t.sphere)}closestTo(t){let n=k();return Ze(this.sphere,t,n),n}get center(){return this.sphere}get radius(){return this.sphere[3]}},ue=class extends N{constructor(t,n,r){super(),this.start=t,this.end=n,this.getZ=r,this.planeLike={start:t,end:n,type:_.PLANE}}equals(t){return this===t||bt(t)&&A(this.start,t.start)&&A(this.end,t.end)&&this.getZ===t.getZ}closestTo(t){return Cn(this,t)}addIfOnTheGround(t,n){for(let r of n){let s=this.getZ(r[0],r[1])??0;p(r[2],s)&&(r[2]=s,t.push(r))}}},le=class extends N{constructor(t,n,r){super(),this._x=t,this._y=n,this._z=r}equals(t){return this===t||jn(t)&&this._x===t._x&&this._y===t._y&&this._z===t._z}closestTo([t,n,r]){return Zt(this._x??t,this._y??n,this._z??r)}},fe=class extends N{constructor(t,n,r,s,i){super(),this._origin=t,this._spatialReference=n,this._distanceMeters=r,this._z=s,this._directionDegrees=i}equals(t){return this===t||Gn(t)&&zt(this._origin,t._origin)&&this._spatialReference===t._spatialReference&&this._distanceMeters===t._distanceMeters&&this._z===t._z&&this._directionDegrees===t._directionDegrees}closestTo([t,n,r]){return Lt(ot,t,n),zt(ot,this._origin)||this._applyDirectionAndDistance(ot),Zt(ot[0],ot[1],this._z??r)}_applyDirectionAndDistance(t){if(this._directionDegrees!=null&&this._distanceMeters!=null)_t(t,this._origin,this._directionDegrees,this._distanceMeters,this._spatialReference);else if(this._directionDegrees!=null)_n(t,this._origin,this._directionDegrees,t,this._spatialReference);else if(this._distanceMeters!=null){let{azimuth:n}=Gt(kn,this._origin,t,this._spatialReference);_t(t,this._origin,n??0,this._distanceMeters,this._spatialReference)}}},ot=[0,0],kn=new Ft;function _n(e,t,n,r,s){let{azimuth:i,distance:o}=Gt(Nn,t,r,s);i??=0;let a=o*Math.cos((i-n)*Re);a=Math.max(0,a),_t(e,t,n,a,s)}var Nn=new Ft;function Cn(e,t){let n=k();return Kt(t,e.planeLike,n),n[2]=e.getZ(n[0],n[1])??fn,n}function H(e,t){if(de(e)){let n=[];for(let r of e.constraints){let s=r.intersect(t);s&&n.push(s)}return he(n)}if(de(t))return H(t,e);if(bt(e))return un(e,t);if(bt(t))return un(t,e);if(M(e)){let{point:n}=e;if(M(t))return A(n,t.point)?e:void 0;let r=t.closestTo(n);return De(r,n)?e:void 0}if(R(e)){if(M(t))return H(t,e);if(R(t))return x($t(e.lineLike,t.lineLike));if(O(t))return Mn(e,t);if(w(t))return x(Xt(t.planeLike,e.lineLike));if(V(t))return x(Bt(e.lineLike,t.center,t.radius));if(j(t))return x(Be(e.lineLike,t));if(F(t))return xn(e,t);if(G(t))return Rn(e,t)}else if(O(e)){if(M(t)||R(t))return H(t,e);if(O(t))return wn(e,t);if(w(t))return Vn(e,t);if(V(t))return Sn(e,t);if(j(t))return bn(e,t);if(F(t))return qn(e,t);if(G(t))return Dn(e,t)}else if(w(e)){if(M(t)||R(t)||O(t))return H(t,e);if(w(t))return se(Jt(e.planeLike,t.planeLike));if(V(t))return se(Mt(e.planeLike,t.center,t.radius));if(j(t))return zn(e,t);if(F(t))return In(e,t);if(G(t))return Hn(e,t)}else if(V(e)){if(M(t)||R(t)||O(t)||w(t))return H(t,e);if(V(t))return se(xt(e.center,e.radius,t.center,t.radius));if(j(t))return void 0;if(F(t))return On(e,t);if(G(t))return void 0}else if(j(e)){if(M(t)||R(t)||O(t)||w(t)||V(t))return H(t,e);if(j(t))return void 0;if(F(t))return t.asCircle(),void 0;if(G(t))return void 0}else if(F(e)){if(M(t)||R(t)||O(t)||w(t)||V(t)||j(t))return H(t,e);if(F(t))return Fn(t,e);if(G(t))return void 0}else if(G(e)){if(M(t)||R(t)||O(t)||w(t)||V(t)||F(t))return H(t,e);if(G(t))return void 0}}var Mn=(()=>{let e=v();return(t,n)=>{let{start:r,end:s}=t;if(te(r,s)&&p(r[2],n.z))return t;let i=k();return vt(n.getPlane(e),r,s,i)?new X(i):void 0}})();function xn({lineLike:e},{center:t,radius:n}){let r=t[2];return x(Bt(e,t,n).filter(s=>p(s[2],r)))}function Rn({lineLike:e},{sphere:t}){return x(je(t,e.start,e.end))}var pe=(()=>{let e=xe(),t=l(),n=l();return(r,s,i)=>{let{normal:o,center:a,radius:c}=s;Tt(o,t,n);let u=r,f=c*P(u,t),d=c*P(u,n);Ce(e,a[0],a[1],a[2],1);let g=Me(r,e),h=Math.hypot(f,d),m=p(h,0);if(p(it(r,a),0)){if(m)return s;if(p(c,0))return!i||z(i,a)?new X(W(a)):void 0;U(t,u,o),be(t,t);let It=new Array,mt=S(a);L(mt,mt,t,c),i&&!z(i,mt)||It.push(mt);let gt=S(a);return L(gt,gt,t,-c),i&&!z(i,gt)||It.push(gt),x(It)}if(m)return;let E=-g/h;if(Math.abs(E)>1||p(E,1))return;let C=Math.atan(f/d),Z=Ae(E)-C,me=Math.PI-Z,dt=new Array,pt=l();L(pt,a,t,c*Math.cos(Z)),L(pt,pt,n,c*Math.sin(Z)),dt.push(pt);let ht=l();return L(ht,a,t,c*Math.cos(me)),L(ht,ht,n,c*Math.sin(me)),dt.push(ht),x(i?$e(i,dt):dt)}})();function wn(e,t){return p(e.z,t.z)?e:void 0}function Vn({z:e},{planeLike:t}){let[n,r]=t.start,[s,i]=t.end,o=I(n,r,e),a=I(s,i,e);return t.type===_.PLANE?new St(o,a):new ie(o,a)}function Sn(e,t){let[n,r]=t.center;return new ut(I(n,r,e.z),t.radius)}function qn(e,t){return p(t.center[2],e.z)?t:void 0}var bn=(()=>{let e=v();return(t,n)=>pe(t.getPlane(e),n,n.slicePlane)})();function Dn(e,{center:t,radius:n}){let r=Math.abs(t[2]-e.z);if(r>n&&!p(r,n))return;let s=I(t[0],t[1],e.z),i=Math.sqrt(n**2-r**2);return p(i,0)?void 0:new ut(s,i)}var In=(()=>{let e=v();return(t,{center:n,radius:r})=>{let s=Mt(t.planeLike,n,r),i=n[2];t.getSlicePlane(e);let o=new Array;for(let[a,c]of s){let u=[a,c,i];z(e,u)&&o.push(u)}return x(o)}})(),zn=(()=>{let e=v(),t=v();return(n,r)=>pe(n.getPlane(e),r,n.getSlicePlane(t))})(),Hn=(()=>{let e=v();return(t,{center:n,radius:r})=>{let s=t.getPlane(e),i=Oe(s,n),o=Math.abs(i);if(o>r&&!p(o,r))return;let a=Math.sqrt(r**2-i**2);if(p(a,0)){let f=k();return Ht(s,n,f),new X(f)}let c=k(),u=S(s);return L(c,n,u,i),new lt(c,a,u,t.getSlicePlane())}})();function On(e,t){let n=yt(e.center,t.center);return p(n,0)&&p(e.radius,t.radius)?t:ln(xt(e.center,e.radius,t.center,t.radius),t.center[2])}function Fn(e,t){if(!te(e.center,t.center))return;let n=yt(e.center,t.center);return p(n,0)&&p(e.radius,t.radius)?e:ln(xt(e.center,e.radius,t.center,t.radius),e.center[2])}function un(e,t){let{planeLike:n,getZ:r}=e,s=new Array;if(M(t))e.addIfOnTheGround(s,Ue(n,t.point));else if(R(t))e.addIfOnTheGround(s,Xt(n,t.lineLike));else if(V(t))for(let[i,o]of Mt(n,t.center,t.radius)){let a=r(i,o);a!=null&&s.push(J(i,o,a))}else if(w(t)||bt(t))for(let[i,o]of Jt(n,t.planeLike)){let a=r(i,o)??fn;s.push(J(i,o,a))}return x(s)}function se(e){return he(e.map(([t,n])=>{let r=I(t,n,0),s=I(t,n,1);return new St(r,s)}))}function x(e){return he(e.map(t=>t?new X(t):void 0))}function ln(e,t){return x(e.map(([n,r])=>[n,r,t]))}function he(e){if(e.length!==0)return e.length===1?e[0]??void 0:new qt(e.filter(Le))}function de(e){return e instanceof qt}function M(e){return e instanceof X}function R(e){return e instanceof ct}function O(e){return e instanceof oe}function w(e){return e instanceof ft}function V(e){return e instanceof ae}function F(e){return e instanceof ut}function j(e){return e instanceof lt}function G(e){return e instanceof ce}function bt(e){return e instanceof ue}function Gn(e){return e instanceof fe}function jn(e){return e instanceof le}var fn=0;var Wr=Symbol("grid-placement-graphic");function Zn(e,t){let n=e.x-t.x,r=e.y-t.y;return n*n+r*r}function Xr(e,t){return Math.sqrt(Zn(e,t))}function Jr(e,t){t.sort((n,r)=>rt(n.targetPoint,e)-rt(r.targetPoint,e))}var dn;function Kr({point:e,distance:t,returnEdge:n,vertexMode:r,coordinateHelper:{spatialReference:s},filter:i},o,a){return a=a!=null?a.clone():new Ne({where:"1=1"}),i&&(a.geometry=i.geometry,a.distance=i.distance,a.spatialRelationship=i.spatialRelationship,a.where=ke(a.where,i.where),a.timeExtent=_e(a.timeExtent,i.timeExtent),a.objectIds=Yn(a.objectIds,i.objectIds)),{point:$(e[0],e[1],e[2],s.toJSON()),mode:o,distance:t,returnEdge:n,vertexMode:r,query:a.toJSON()}}function Yn(e,t){return e||t?t?e?Array.from(ye(new Set(e),new Set(t))):t:e:null}function Qr(e,t,n){return{left:Yt(e.leftVertex.pos,t,n),right:Yt(e.rightVertex.pos,t,n)}}function Ur(e){return e.createQuery()}(function(e){e[e.TARGET=0]="TARGET",e[e.REFERENCE=1]="REFERENCE",e[e.REFERENCE_EXTENSION=2]="REFERENCE_EXTENSION"})(dn||(dn={}));var pn=Symbol("snapping-toggle");function Br(e,t=()=>{}){let n=Pe(()=>({view:e.view,snappingOptions:e.snappingOptions}),({view:r,snappingOptions:s})=>{if(e.removeHandles(pn),!r||!s)return;let i=Je.TOOL,o=[r.on("key-down",a=>{a.key!==jt.toggle||a.repeat||(s.enabledToggled=!0,t())},i),r.on("key-up",a=>{a.key===jt.toggle&&(s.enabledToggled=!1,t())},i),r.on("pointer-move",a=>{let c=a.native.ctrlKey;s.enabledToggled!==c&&(s.enabledToggled=c,t())},i)];e.addHandles(o,pn)},Ee);e.addHandles(n)}function $r(e){return Ke(e)&&"utilityNetworks"in e&&!!e.utilityNetworks?.length}var Dt=class{constructor(t,n){this.isDraped=t,this.domain=n}};var hn=class e extends Dt{constructor(t,n,r,s,i=Nt.ALL,o=!0,a=!0){super(s,i),this.type=t,this.lineStart=n,this.lineEnd=r,this.fadeLeft=o,this.fadeRight=a}equals(t){return t instanceof e&&this.type===t.type&&A(this.lineStart,t.lineStart)&&A(this.lineEnd,t.lineEnd)&&this.fadeLeft===t.fadeLeft&&this.fadeRight===t.fadeRight}get length(){return Et(this.lineStart,this.lineEnd)}};export{Zt as a,k as b,I as c,Kn as d,Qn as e,Yt as f,mn as g,Un as h,Bn as i,$n as j,Nt as k,Dt as l,hn as m,Ut as n,X as o,St as p,ae as q,oe as r,on as s,cn as t,ue as u,le as v,fe as w,he as x,M as y,Wr as z,Zn as A,Xr as B,Jr as C,dn as D,Kr as E,Qr as F,Ur as G,Br as H,$r as I};
