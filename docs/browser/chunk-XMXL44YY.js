import{a as ue}from"./chunk-4HD5O3T7.js";import{a as de}from"./chunk-OSH5MRH4.js";import{a as me}from"./chunk-ZIKE37L7.js";import{a as $t}from"./chunk-U3ETEC6R.js";import{e as fe,g as he,m as xe,n as ve}from"./chunk-J2R7NR2E.js";import{a as oe}from"./chunk-VPH54J3G.js";import{C as X,b as se,q as pe,r as ne,s as ae,z as le}from"./chunk-BNQ5VRNF.js";import{h as ie}from"./chunk-Y5M2SONX.js";import{h as te,i as ee}from"./chunk-MBVOWLUI.js";import{a as j}from"./chunk-EN6CTWVM.js";import{c as re,d as K}from"./chunk-LVPMJTA6.js";import{M as ce,f as yt,g as ct,j as ye}from"./chunk-7D4IYTAJ.js";import{e as P}from"./chunk-S3UQHW42.js";import{c as ut}from"./chunk-VQHENXDQ.js";import{y as Yt}from"./chunk-N27U3N2T.js";import{a}from"./chunk-4R5NBZMW.js";import{a as dt}from"./chunk-NDYVXEZ5.js";import{a as l}from"./chunk-CMMPCPP5.js";import{ma as Kt,na as Xt}from"./chunk-4DLSYLKE.js";import{a as A}from"./chunk-GZXWFBZI.js";import{h as m}from"./chunk-2JF6YUJG.js";import{B as lt,C as mt,Q as o}from"./chunk-GGZQ5GCM.js";import{I as H,U as p}from"./chunk-TFUPB3ZG.js";import{a as t}from"./chunk-BMVJCP2M.js";import{b as S,r as Ht}from"./chunk-3IBUFXWY.js";import{g as qt}from"./chunk-JEGVIFEP.js";var ft,R=ft=class extends m{constructor(e){super(e),this.expression=null,this.name=null,this.returnType="boolean",this.title=null}clone(){return new ft({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};t([o({type:String,json:{write:!0}})],R.prototype,"expression",void 0),t([o({type:String,json:{write:!0}})],R.prototype,"name",void 0),t([o({type:["boolean","date","number","string"],json:{write:!0}})],R.prototype,"returnType",void 0),t([o({type:String,json:{write:!0}})],R.prototype,"title",void 0),R=ft=t([p("esri.form.ExpressionInfo")],R);var we=R;var D=class extends m{constructor(e){super(e),this.description=null,this.label=null,this.type=null,this.visibilityExpression=null}};t([o({type:String,json:{write:!0}})],D.prototype,"description",void 0),t([o({type:String,json:{write:!0}})],D.prototype,"label",void 0),t([o()],D.prototype,"type",void 0),t([o({type:String,json:{write:!0}})],D.prototype,"visibilityExpression",void 0),D=t([p("esri.form.elements.Element")],D);var c=D;var Y=class extends j(m){constructor(e){super(e),this.type=null}};t([o()],Y.prototype,"type",void 0),Y=t([p("esri.form.elements.inputs.attachments.Input")],Y);var d=Y;var N=["any","capture","upload"];var B=class extends d{constructor(e){super(e),this.type="audio",this.inputMethod="any",this.maxDuration=null}};t([o({type:["audio"],readOnly:!0,json:{write:!0}})],B.prototype,"type",void 0),t([o({type:N,json:{write:!0}})],B.prototype,"inputMethod",void 0),t([o({type:Number,json:{write:!0}})],B.prototype,"maxDuration",void 0),B=t([p("esri.form.elements.inputs.attachments.AudioInput")],B);var ht=B;var Q=class extends d{constructor(e){super(e),this.type="document",this.maxFileSize=null}};t([o({type:["document"],readOnly:!0,json:{write:!0}})],Q.prototype,"type",void 0),t([o({type:Number,json:{write:!0}})],Q.prototype,"maxFileSize",void 0),Q=t([p("esri.form.elements.inputs.attachments.DocumentInput")],Q);var xt=Q;var U=class extends d{constructor(e){super(e),this.type="image",this.inputMethod="any",this.maxImageSize=null}};t([o({type:["image"],readOnly:!0,json:{write:!0}})],U.prototype,"type",void 0),t([o({type:N,json:{write:!0}})],U.prototype,"inputMethod",void 0),t([o({type:Number,json:{write:!0}})],U.prototype,"maxImageSize",void 0),U=t([p("esri.form.elements.inputs.attachments.ImageInput")],U);var vt=U;var z=class extends d{constructor(e){super(e),this.type="signature",this.inputMethod="any"}};t([o({type:["signature"],readOnly:!0,json:{write:!0}})],z.prototype,"type",void 0),t([o({type:N,json:{write:!0}})],z.prototype,"inputMethod",void 0),z=t([p("esri.form.elements.inputs.attachments.SignatureInput")],z);var wt=z;var _=class extends d{constructor(e){super(e),this.type="video",this.inputMethod="any",this.maxDuration=null}};t([o({type:["video"],readOnly:!0,json:{write:!0}})],_.prototype,"type",void 0),t([o({type:N,json:{write:!0}})],_.prototype,"inputMethod",void 0),t([o({type:Number,json:{write:!0}})],_.prototype,"maxDuration",void 0),_=t([p("esri.form.elements.inputs.attachments.VideoInput")],_);var bt=_;function $(e){return{nestableTypes:{base:d,key:"type",typeMap:{audio:ht,document:xt,image:vt,signature:wt,video:bt}},allTypes:{base:d,key:"type",typeMap:{attachment:e,audio:ht,document:xt,image:vt,signature:wt,video:bt}}}}function be(e,r,s){return e?e.map(i=>H(s?r.nestableTypes:r.allTypes,i)):null}function ge(e,r,s){if(!e)return null;let i=s?r.nestableTypes.typeMap:r.allTypes.typeMap;return e.filter(n=>i[n.type]).map(n=>i[n.type].fromJSON(n))}function Se(e,r,s){if(!e)return null;let i=s?r.nestableTypes.typeMap:r.allTypes.typeMap;return e.filter(n=>i[n.type]).map(n=>n.toJSON())}var I=class extends d{constructor(e){super(e),this.type="attachment",this.attachmentAssociationType="exact",this.inputTypes=null}castInputs(e){return be(e,gt,!0)}readInputs(e,r){return ge(r.inputTypes,gt,!0)}writeInputs(e,r){r.inputTypes=Se(e,gt,!0)}};t([o({type:["attachment"],readOnly:!0,json:{write:!0}})],I.prototype,"type",void 0),t([o({type:["any","exact","exactOrNone"],json:{write:!0}})],I.prototype,"attachmentAssociationType",void 0),t([o({json:{write:{isRequired:!0}}})],I.prototype,"inputTypes",void 0),t([A("inputTypes")],I.prototype,"castInputs",null),t([a("inputTypes")],I.prototype,"readInputs",null),t([l("inputTypes")],I.prototype,"writeInputs",null),I=t([p("esri.form.elements.inputs.attachments.AttachmentInput")],I);var gt=$(I),je=I;var St,He=$(je),f=St=class extends c{constructor(e){super(e),this.allowUserRename=!0,this.attachmentKeyword=null,this.displayFilename=!1,this.editableExpression=null,this.filenameExpression="{attachmentKeyword}_{now}",this.input=null,this.maxAttachmentCount=null,this.minAttachmentCount=null,this.type="attachment",this.useOriginalFilename=!0}clone(){return new St({allowUserRename:this.allowUserRename,attachmentKeyword:this.attachmentKeyword,description:this.description,displayFilename:this.displayFilename,editableExpression:this.editableExpression,filenameExpression:this.filenameExpression,input:this.input?.clone(),label:this.label,maxAttachmentCount:this.maxAttachmentCount,minAttachmentCount:this.minAttachmentCount,useOriginalFilename:this.useOriginalFilename,visibilityExpression:this.visibilityExpression})}};t([o({type:Boolean,json:{write:!0}})],f.prototype,"allowUserRename",void 0),t([o({type:String,json:{write:{isRequired:!0}}})],f.prototype,"attachmentKeyword",void 0),t([o({type:Boolean,json:{write:!0}})],f.prototype,"displayFilename",void 0),t([o({type:String,json:{write:!0}})],f.prototype,"editableExpression",void 0),t([o({type:String,json:{write:!0}})],f.prototype,"filenameExpression",void 0),t([o({types:He.allTypes,json:{read:{source:"inputType"},write:{target:"inputType",isRequired:!0}}})],f.prototype,"input",void 0),t([o({type:Number,json:{write:!0}})],f.prototype,"maxAttachmentCount",void 0),t([o({type:Number,json:{write:!0}})],f.prototype,"minAttachmentCount",void 0),t([o({type:["attachment"],readOnly:!0,json:{read:!1,write:!0}})],f.prototype,"type",void 0),t([o({type:Boolean,json:{write:!0}})],f.prototype,"useOriginalFilename",void 0),f=St=t([p("esri.form.elements.AttachmentElement")],f);var jt=f;var tt=class extends m{constructor(e){super(e),this.type=null}};t([o()],tt.prototype,"type",void 0),tt=t([p("esri.form.elements.inputs.Input")],tt);var u=tt;var Z=class extends u{constructor(e){super(e),this.maxLength=null,this.minLength=0}};t([o({type:Number,json:{write:!0}})],Z.prototype,"maxLength",void 0),t([o({type:Number,json:{write:!0}})],Z.prototype,"minLength",void 0),Z=t([p("esri.form.elements.inputs.TextInput")],Z);var L=Z;var It,et=It=class extends L{constructor(e){super(e),this.type="barcode-scanner"}clone(){return new It({maxLength:this.maxLength,minLength:this.minLength})}};t([o({type:["barcode-scanner"],json:{read:!1,write:!0}})],et.prototype,"type",void 0),et=It=t([p("esri.form.elements.inputs.BarcodeScannerInput")],et);var Ie=et;var Et,k=Et=class extends u{constructor(e){super(e),this.noValueOptionLabel=null,this.showNoValueOption=!0,this.type="combo-box"}clone(){return new Et({showNoValueOption:this.showNoValueOption,noValueOptionLabel:this.noValueOptionLabel})}};t([o({type:String,json:{write:!0}})],k.prototype,"noValueOptionLabel",void 0),t([o({type:Boolean,json:{write:!0}})],k.prototype,"showNoValueOption",void 0),t([o({type:["combo-box"],json:{read:!1,write:!0}})],k.prototype,"type",void 0),k=Et=t([p("esri.form.elements.inputs.ComboBoxInput")],k);var Ee=k;var Ft;function Fe(e){return e??null}function Oe(e){return e??null}var E=Ft=class extends u{constructor(e){super(e),this.max=null,this.min=null,this.type="date-picker"}readMax(e,r){return Fe(r.max)}writeMax(e,r){r.max=Oe(e)}readMin(e,r){return Fe(r.min)}writeMin(e,r){r.min=Oe(e)}clone(){return new Ft({max:this.max,min:this.min})}};t([o({type:String,json:{type:String,write:!0}})],E.prototype,"max",void 0),t([a("max")],E.prototype,"readMax",null),t([l("max")],E.prototype,"writeMax",null),t([o({type:String,json:{type:String,write:!0}})],E.prototype,"min",void 0),t([a("min")],E.prototype,"readMin",null),t([l("min")],E.prototype,"writeMin",null),t([o({type:["date-picker"],json:{read:!1,write:!0}})],E.prototype,"type",void 0),E=Ft=t([p("esri.form.elements.inputs.DatePickerInput")],E);var Te=E;var Mt;function Ot(e){return e??null}function Tt(e){return e??null}var y=Mt=class extends u{constructor(e){super(e),this.includeTimeOffset=!0,this.max=null,this.min=null,this.timeResolution="minutes",this.type="datetimeoffset-picker"}readMax(e,r){return Ot(r.max)}writeMax(e,r){r.max=Tt(e)}readMin(e,r){return Ot(r.min)}writeMin(e,r){r.min=Tt(e)}readTimeResolution(e,r){return Ot(r.timeResolution)}writeTimeResolution(e,r){r.timeResolution=Tt(e)}clone(){return new Mt({includeTimeOffset:this.includeTimeOffset,max:this.max,min:this.min,timeResolution:this.timeResolution})}};t([o({type:Boolean,json:{write:!0}})],y.prototype,"includeTimeOffset",void 0),t([o({type:String,json:{type:String,write:!0}})],y.prototype,"max",void 0),t([a("max")],y.prototype,"readMax",null),t([l("max")],y.prototype,"writeMax",null),t([o({type:String,json:{type:String,write:!0}})],y.prototype,"min",void 0),t([a("min")],y.prototype,"readMin",null),t([l("min")],y.prototype,"writeMin",null),t([o({type:String,json:{type:String,write:!0}})],y.prototype,"timeResolution",void 0),t([a("timeResolution")],y.prototype,"readTimeResolution",null),t([l("timeResolution")],y.prototype,"writeTimeResolution",null),t([o({type:["datetimeoffset-picker"],json:{read:!1,write:!0}})],y.prototype,"type",void 0),y=Mt=t([p("esri.form.elements.inputs.DateTimeOffsetPickerInput")],y);var Me=y;var Nt;function Ne(e){return e!=null?new Date(e):null}function Re(e){return e?e.getTime():null}var w=Nt=class extends u{constructor(e){super(e),this.includeTime=!1,this.max=null,this.min=null,this.type="datetime-picker"}readMax(e,r){return Ne(r.max)}writeMax(e,r){r.max=Re(e)}readMin(e,r){return Ne(r.min)}writeMin(e,r){r.min=Re(e)}clone(){return new Nt({includeTime:this.includeTime,max:this.max,min:this.min})}};t([o({type:Boolean,json:{write:!0}})],w.prototype,"includeTime",void 0),t([o({type:Date,json:{type:Number,write:!0}})],w.prototype,"max",void 0),t([a("max")],w.prototype,"readMax",null),t([l("max")],w.prototype,"writeMax",null),t([o({type:Date,json:{type:Number,write:!0}})],w.prototype,"min",void 0),t([a("min")],w.prototype,"readMin",null),t([l("min")],w.prototype,"writeMin",null),t([o({type:["datetime-picker"],json:{read:!1,write:!0}})],w.prototype,"type",void 0),w=Nt=t([p("esri.form.elements.inputs.DateTimePickerInput")],w);var De=w;var Rt,C=Rt=class extends u{constructor(e){super(e),this.noValueOptionLabel=null,this.showNoValueOption=!0,this.type="radio-buttons"}clone(){return new Rt({noValueOptionLabel:this.noValueOptionLabel,showNoValueOption:this.showNoValueOption})}};t([o({type:String,json:{write:!0}})],C.prototype,"noValueOptionLabel",void 0),t([o({type:Boolean,json:{write:!0}})],C.prototype,"showNoValueOption",void 0),t([o({type:["radio-buttons"],json:{read:!1,write:!0}})],C.prototype,"type",void 0),C=Rt=t([p("esri.form.elements.inputs.RadioButtonsInput")],C);var Ve=C;var Dt,J=Dt=class extends u{constructor(e){super(e),this.offValue=null,this.onValue=null,this.type="switch"}clone(){return new Dt({offValue:this.offValue,onValue:this.onValue})}};t([o({type:[String,Number],json:{write:!0}})],J.prototype,"offValue",void 0),t([o({type:[String,Number],json:{write:!0}})],J.prototype,"onValue",void 0),t([o({type:["switch"],json:{read:!1,write:!0}})],J.prototype,"type",void 0),J=Dt=t([p("esri.form.elements.inputs.SwitchInput")],J);var Ae=J;var Vt,ot=Vt=class extends L{constructor(e){super(e),this.type="text-area"}clone(){return new Vt({maxLength:this.maxLength,minLength:this.minLength})}};t([o({type:["text-area"],json:{read:!1,write:!0}})],ot.prototype,"type",void 0),ot=Vt=t([p("esri.form.elements.inputs.TextAreaInput")],ot);var Be=ot;var At,rt=At=class extends L{constructor(e){super(e),this.type="text-box"}clone(){return new At({maxLength:this.maxLength,minLength:this.minLength})}};t([o({type:["text-box"],json:{read:!1,write:!0}})],rt.prototype,"type",void 0),rt=At=t([p("esri.form.elements.inputs.TextBoxInput")],rt);var Ue=rt;var _t;function Bt(e){return e??null}function Ut(e){return e??null}var h=_t=class extends u{constructor(e){super(e),this.max=null,this.min=null,this.timeResolution="minutes",this.type="time-picker"}readMax(e,r){return Bt(r.max)}writeMax(e,r){r.max=Ut(e)}readMin(e,r){return Bt(r.min)}writeMin(e,r){r.min=Ut(e)}readTimeResolution(e,r){return Bt(r.timeResolution)}writeTimeResolution(e,r){r.timeResolution=Ut(e)}clone(){return new _t({max:this.max,min:this.min,timeResolution:this.timeResolution})}};t([o({type:String,json:{type:String,write:!0}})],h.prototype,"max",void 0),t([a("max")],h.prototype,"readMax",null),t([l("max")],h.prototype,"writeMax",null),t([o({type:String,json:{type:String,write:!0}})],h.prototype,"min",void 0),t([a("min")],h.prototype,"readMin",null),t([l("min")],h.prototype,"writeMin",null),t([o({type:String,json:{type:String,write:!0}})],h.prototype,"timeResolution",void 0),t([a("timeResolution")],h.prototype,"readTimeResolution",null),t([l("timeResolution")],h.prototype,"writeTimeResolution",null),t([o({type:["time-picker"],json:{read:!1,write:!0}})],h.prototype,"type",void 0),h=_t=t([p("esri.form.elements.inputs.TimePickerInput")],h);var _e=h;var Le={base:u,key:"type",typeMap:{"barcode-scanner":Ie,"combo-box":Ee,"date-picker":Te,"datetime-picker":De,"datetimeoffset-picker":Me,"radio-buttons":Ve,switch:Ae,"text-area":Be,"text-box":Ue,"time-picker":_e}};var Lt,v=Lt=class extends c{constructor(e){super(e),this.domain=null,this.editable=null,this.editableExpression=null,this.fieldName=null,this.hint=null,this.input=null,this.requiredExpression=null,this.type="field",this.valueExpression=null}clone(){return new Lt({description:this.description,domain:this.domain,editable:this.editable,editableExpression:this.editableExpression,fieldName:this.fieldName,hint:this.hint,input:this.input,label:this.label,requiredExpression:this.requiredExpression,valueExpression:this.valueExpression,visibilityExpression:this.visibilityExpression})}};t([o({types:re,json:{read:{reader:K},write:!0}})],v.prototype,"domain",void 0),t([o({type:Boolean,json:{write:!0}})],v.prototype,"editable",void 0),t([o({type:String,json:{write:!0}})],v.prototype,"editableExpression",void 0),t([o({type:String,json:{write:!0}})],v.prototype,"fieldName",void 0),t([o({type:String,json:{write:!0}})],v.prototype,"hint",void 0),t([o({types:Le,json:{read:{source:"inputType"},write:{target:"inputType"}}})],v.prototype,"input",void 0),t([o({type:String,json:{write:!0}})],v.prototype,"requiredExpression",void 0),t([o({type:String,json:{read:!1,write:!0}})],v.prototype,"type",void 0),t([o({type:String,json:{write:!0}})],v.prototype,"valueExpression",void 0),v=Lt=t([p("esri.form.elements.FieldElement")],v);var kt=v;var Ct,O=Ct=class extends c{constructor(e){super(e),this.displayCount=null,this.displayType="list",this.editableExpression=null,this.orderByFields=null,this.relationshipId=null,this.type="relationship"}clone(){return new Ct({description:this.description,displayCount:this.displayCount,displayType:this.displayType,editableExpression:this.editableExpression,label:this.label,orderByFields:S(this.orderByFields),relationshipId:this.relationshipId,visibilityExpression:this.visibilityExpression})}};t([o({type:Number,json:{write:!0}})],O.prototype,"displayCount",void 0),t([o({type:["list"],json:{write:!0}})],O.prototype,"displayType",void 0),t([o({type:String,json:{write:!0}})],O.prototype,"editableExpression",void 0),t([o({type:[ie],json:{write:!0}})],O.prototype,"orderByFields",void 0),t([o({type:Number,json:{write:!0}})],O.prototype,"relationshipId",void 0),t([o({type:["relationship"],json:{read:!1,write:!0}})],O.prototype,"type",void 0),O=Ct=t([p("esri.form.elements.RelationshipElement")],O);var Jt=O;var Gt,G=Gt=class extends c{constructor(e){super(e),this.text=null,this.textFormat="plain-text",this.type="text"}clone(){return new Gt({text:this.text,textFormat:this.textFormat,visibilityExpression:this.visibilityExpression})}};t([o({type:String,json:{write:!0}})],G.prototype,"text",void 0),t([o({type:String,json:{write:!0}})],G.prototype,"textFormat",void 0),t([o({type:["text"],readOnly:!0,json:{read:!1,write:!0}})],G.prototype,"type",void 0),G=Gt=t([p("esri.form.elements.TextElement")],G);var Wt=G;function it(e){return{typesWithGroup:{base:c,key:"type",typeMap:{attachment:jt,field:kt,group:e,relationship:Jt,text:Wt}},typesWithoutGroup:{base:c,key:"type",typeMap:{attachment:jt,field:kt,relationship:Jt,text:Wt}}}}function st(e,r,s=!0){if(!e)return null;let i=s?r.typesWithGroup.typeMap:r.typesWithoutGroup.typeMap;return e.filter(n=>i[n.type]).map(n=>i[n.type].fromJSON(n))}function pt(e,r,s=!0){if(!e)return null;let i=s?r.typesWithGroup.typeMap:r.typesWithoutGroup.typeMap;return e.filter(n=>i[n.type]).map(n=>n.toJSON())}function nt(e,r,s=!0){return e?e.map(i=>H(s?r.typesWithGroup:r.typesWithoutGroup,i)):null}var Qt,F=Qt=class extends c{constructor(e){super(e),this.elements=null,this.initialState="expanded",this.type="group"}castElements(e){return nt(e,Pt,!1)}readElements(e,r){return st(r.formElements,Pt,!1)}writeElements(e,r){r.formElements=pt(e,Pt,!1)}clone(){return new Qt({description:this.description,elements:S(this.elements),initialState:this.initialState,label:this.label,visibilityExpression:this.visibilityExpression})}};t([o({json:{write:!0}})],F.prototype,"elements",void 0),t([A("elements")],F.prototype,"castElements",null),t([a("elements",["formElements"])],F.prototype,"readElements",null),t([l("elements")],F.prototype,"writeElements",null),t([o({type:["collapsed","expanded"],json:{write:!0}})],F.prototype,"initialState",void 0),t([o({type:String,json:{read:!1,write:!0}})],F.prototype,"type",void 0),F=Qt=t([p("esri.form.elements.GroupElement")],F);var Pt=it(F),ke=F;var Ce=e=>e.type==="field",Je=e=>e.type==="group",Ge=e=>e.type==="text";var Zt,zt=it(ke),b=Zt=class extends m{constructor(e){super(e),this.description=null,this.elements=null,this.expressionInfos=null,this.preserveFieldValuesWhenHidden=!1,this.title=null}castElements(e){return nt(e,zt)}readElements(e,r){return st(r.formElements,zt)}writeElements(e,r){r.formElements=pt(e,zt)}clone(){return new Zt({description:this.description,expressionInfos:S(this.expressionInfos),elements:S(this.elements),title:this.title,preserveFieldValuesWhenHidden:this.preserveFieldValuesWhenHidden})}getFieldsUsed(e,r){return qt(this,null,function*(){let s=new Set,{description:i,elements:n,expressionInfos:x,title:V}=this;if(q(s,e,i),q(s,e,V),!n)return[];let qe=Ke(n,x).map(at=>ye(s,e,at));yield Promise.all(qe);for(let at of n)We(s,{fieldsIndex:e,relationships:r},at);return Array.from(s).sort()})}};function We(e,r,s){let{fieldsIndex:i}=r;if(!i||i.fields.length!==e.size)switch(q(e,i,s.label),q(e,i,s.description),s.type){case"field":ct(e,i,s.fieldName);break;case"group":s.elements.forEach(n=>We(e,r,n));break;case"relationship":if(r.relationships){let n=r.relationships.find(x=>x.id===s.relationshipId);n&&ct(e,i,n.keyField)}yt(e,i,s.orderByFields?.map(n=>n.field));break;case"text":q(e,i,s.text)}}function Ke(e,r){if(!r||r.length===0)return[];let s=Pe(e),i=[];for(let n of r)s.has(n.name)&&i.push(n.expression);return i}function Pe(e){let r=new Set;for(let s of e)if(mt(r,s.visibilityExpression),!Ge(s)){if(Je(s))lt(r,Pe(s.elements));else if(mt(r,s.editableExpression),Ce(s)){let{requiredExpression:i,valueExpression:n}=s;lt(r,[i,n])}}return r}function q(e,r,s){yt(e,r,ce(s))}t([o({type:String,json:{write:!0}})],b.prototype,"description",void 0),t([o({json:{write:!0}})],b.prototype,"elements",void 0),t([A("elements")],b.prototype,"castElements",null),t([a("elements",["formElements"])],b.prototype,"readElements",null),t([l("elements")],b.prototype,"writeElements",null),t([o({type:[we],json:{write:!0}})],b.prototype,"expressionInfos",void 0),t([o({type:Boolean,json:{default:!1,write:!0}})],b.prototype,"preserveFieldValuesWhenHidden",void 0),t([o({type:String,json:{write:!0}})],b.prototype,"title",void 0),b=Zt=t([p("esri.form.FormTemplate")],b);var Fn=b;var T=class extends j(m){constructor(e){super(e),this.creatorField=null,this.creationDateField=null,this.editorField=null,this.editDateField=null,this.realm=null,this.timeZone=null}};t([o()],T.prototype,"creatorField",void 0),t([o()],T.prototype,"creationDateField",void 0),t([o()],T.prototype,"editorField",void 0),t([o()],T.prototype,"editDateField",void 0),t([o()],T.prototype,"realm",void 0),t([o(P("dateFieldsTimeReference",!0))],T.prototype,"timeZone",void 0),T=t([p("esri.layers.support.EditFieldsInfo")],T);var Qe=T;var g=class extends j(m){constructor(e){super(e)}};t([o({constructOnly:!0,json:{write:!0}})],g.prototype,"name",void 0),t([o({constructOnly:!0,json:{write:!0}})],g.prototype,"fields",void 0),t([o({constructOnly:!0,json:{write:!0}})],g.prototype,"isAscending",void 0),t([o({constructOnly:!0,json:{write:!0}})],g.prototype,"indexType",void 0),t([o({constructOnly:!0,json:{write:!0}})],g.prototype,"isUnique",void 0),t([o({constructOnly:!0,json:{write:!0}})],g.prototype,"description",void 0),g=t([p("esri.layers.support.FeatureIndex")],g);var W=class extends j(m){constructor(e){super(e),this.shapeAreaField=null,this.shapeLengthField=null,this.units=null}};t([o({type:String,json:{read:{source:"shapeAreaFieldName"}}})],W.prototype,"shapeAreaField",void 0),t([o({type:String,json:{read:{source:"shapeLengthFieldName"}}})],W.prototype,"shapeLengthField",void 0),t([o({type:String,json:{read:e=>Kt.read(e)||Xt.read(e)}})],W.prototype,"units",void 0),W=t([p("esri.layers.support.GeometryFieldsInfo")],W);var ze=W;var M=class extends j(m){constructor(e){super(e),this.code=null,this.defaultValues={},this.domains=null,this.name=null}readDomains(e){if(!e)return null;let r={};for(let s of Object.keys(e))r[s]=K(e[s]);return r}writeDomains(e,r){if(!e)return;let s={};for(let i of Object.keys(e))e[i]&&(s[i]=e[i]?.toJSON());r.domains=s}};t([o({type:Number,json:{write:!0}})],M.prototype,"code",void 0),t([o({type:Object,json:{write:!0}})],M.prototype,"defaultValues",void 0),t([o({json:{write:!0}})],M.prototype,"domains",void 0),t([a("domains")],M.prototype,"readDomains",null),t([l("domains")],M.prototype,"writeDomains",null),t([o({type:String,json:{write:!0}})],M.prototype,"name",void 0),M=t([p("esri.layers.support.Subtype")],M);var Ze=M;var Qa=e=>{let r=class extends e{constructor(){super(...arguments),this.copyright=null,this.capabilities=null,this.dateFieldsTimeZone=null,this.datesInUnknownTimezone=!1,this.definitionExpression=null,this.displayField=null,this.editFieldsInfo=null,this.editingInfo=null,this.elevationInfo=null,this.floorInfo=null,this.fullExtent=null,this.gdbVersion=null,this.geometryFieldsInfo=null,this.geometryType=null,this.globalIdField=null,this.hasM=void 0,this.hasZ=void 0,this.heightModelInfo=null,this.historicMoment=null,this.indexes=new(ut.ofType(g)),this.isTable=!1,this.layerId=void 0,this.maxScale=0,this.minScale=0,this.objectIdField=null,this.preferredTimeZone=null,this.relationships=null,this.returnM=void 0,this.returnZ=void 0,this.serviceDefinitionExpression=null,this.serviceItemId=null,this.sourceJSON=null,this.spatialReference=dt.WGS84,this.subtypeField=null,this.subtypes=null,this.trackIdField=null,this.version=void 0}get authenticationTriggerEvent(){if(!this.url)return null;let{capabilities:s}=this;if(s){let{query:n,operations:x,editing:V}=s;if(!n.supportsQueryByOthers||!n.supportsQueryByAnonymous||x.supportsEditing&&!(V.supportsUpdateByOthers&&V.supportsUpdateByAnonymous&&V.supportsDeleteByOthers&&V.supportsDeleteByAnonymous))return"load"}if(this.serviceDefinitionExpression?.toLowerCase().includes("current_user"))return"load";if(this.userHasUpdateItemPrivileges){if(le(this))return"load";if(this.hasUpdateItemRestrictions)return s.operations.supportsQuery?"editing":"load"}if(this.userHasFullEditingPrivileges&&this.hasFullEditingRestrictions)return"editing";let i=this.editFieldsInfo;return(i?.creatorField||i?.editorField)&&s?.operations.supportsEditing?"editing":null}readCapabilitiesFromService(s,i){return de(i,this.url)}readEditingInfo(s,i){let{editingInfo:n}=i;return n?{lastEditDate:n.lastEditDate!=null?new Date(n.lastEditDate):null}:null}get effectiveCapabilities(){let s=this.capabilities;if(!s)return null;let i=S(s),{operations:n,editing:x}=i;return X(this)?(this.userHasUpdateItemPrivileges&&(n.supportsQuery=!0),i):this.userHasUpdateItemPrivileges?(n.supportsAdd=n.supportsDelete=n.supportsEditing=n.supportsQuery=n.supportsUpdate=x.supportsDeleteByOthers=x.supportsGeometryUpdate=x.supportsUpdateByOthers=!0,i):(this.userHasFullEditingPrivileges&&n.supportsEditing&&(n.supportsAdd=n.supportsDelete=n.supportsUpdate=x.supportsGeometryUpdate=!0),i)}readGlobalIdFieldFromService(s,i){return pe(i)}get hasFullEditingRestrictions(){let s=this.capabilities;if(!s||X(this))return!1;let{operations:i,editing:n}=s;return i.supportsEditing&&!(i.supportsAdd&&i.supportsDelete&&i.supportsUpdate&&n.supportsGeometryUpdate)}get hasUpdateItemRestrictions(){let s=this.capabilities;if(!s)return!1;let{operations:i,editing:n}=s;return X(this)?!i.supportsQuery:!(i.supportsAdd&&i.supportsDelete&&i.supportsEditing&&i.supportsQuery&&i.supportsUpdate&&n.supportsDeleteByOthers&&n.supportsGeometryUpdate&&n.supportsUpdateByOthers)}readIsTableFromService(s,i){return i.type==="Table"}readMaxScale(s,i){return i.effectiveMaxScale||s||0}readMinScale(s,i){return i.effectiveMinScale||s||0}readObjectIdFieldFromService(s,i){return ne(i)}readServiceDefinitionExpression(s,i){return i.definitionQuery||i.definitionExpression}set url(s){if(s==null)return void this._set("url",s);let i=te({layer:this,url:s,nonStandardUrlAllowed:!0,logger:Ht.getLogger(this)});this._set("url",i.url),i.layerId!=null&&this._set("layerId",i.layerId)}writeUrl(s,i,n,x){ee(this,s,null,i,x)}readVersion(s,i){return ae(i)}};return t([o({readOnly:!0})],r.prototype,"authenticationTriggerEvent",null),t([o({type:String,json:{origins:{service:{read:{source:"copyrightText"}}}}})],r.prototype,"copyright",void 0),t([o({readOnly:!0,json:{read:!1,origins:{service:{read:{source:["advancedQueryCapabilities","allowGeometryUpdates","allowUpdateWithoutMValues","archivingInfo","capabilities","datesInUnknownTimezone","hasAttachments","hasM","hasZ","isDataBranchVersioned","isDataVersioned","maxRecordCount","maxRecordCountFactor","ownershipBasedAccessControlForFeatures","standardMaxRecordCount","supportedQueryFormats","supportsAdvancedQueries","supportsApplyEditsWithGlobalIds","supportsAttachmentsByUploadId","supportsAttachmentsResizing","supportsCalculate","supportsCoordinatesQuantization","supportsExceedsLimitStatistics","supportsFieldDescriptionProperty","supportsQuantizationEditMode","supportsRollbackOnFailureParameter","supportsStatistics","supportsTruncate","supportsValidateSql","tileMaxRecordCount","useStandardizedQueries"]}}}}})],r.prototype,"capabilities",void 0),t([a("service","capabilities")],r.prototype,"readCapabilitiesFromService",null),t([o(P("dateFieldsTimeReference"))],r.prototype,"dateFieldsTimeZone",void 0),t([o({type:Boolean})],r.prototype,"datesInUnknownTimezone",void 0),t([o({type:String,json:{origins:{service:{read:!1,write:!1}},name:"layerDefinition.definitionExpression",write:{enabled:!0,allowNull:!0}}})],r.prototype,"definitionExpression",void 0),t([o({type:String,json:{origins:{service:{read:{source:"displayField"}}}}})],r.prototype,"displayField",void 0),t([o({readOnly:!0,type:Qe})],r.prototype,"editFieldsInfo",void 0),t([o({readOnly:!0})],r.prototype,"editingInfo",void 0),t([a("editingInfo")],r.prototype,"readEditingInfo",null),t([o({readOnly:!0})],r.prototype,"effectiveCapabilities",null),t([o((()=>{let s=S(he),i=s.json.origins;return i["web-map"]={read:!1,write:!1},i["portal-item"]={read:!1,write:!1},s})())],r.prototype,"elevationInfo",void 0),t([o({type:me,json:{name:"layerDefinition.floorInfo",write:!0,origins:{"web-scene":{name:"layerDefinition.floorInfo",write:{enabled:!0,layerContainerTypes:oe}}}}})],r.prototype,"floorInfo",void 0),t([o({type:Yt,json:{origins:{service:{read:{source:"extent"}}}}})],r.prototype,"fullExtent",void 0),t([o()],r.prototype,"gdbVersion",void 0),t([o({readOnly:!0,type:ze,json:{read:{source:"geometryProperties"}}})],r.prototype,"geometryFieldsInfo",void 0),t([o({type:["point","polygon","polyline","multipoint","multipatch","mesh"],json:{origins:{service:{read:se.read}}}})],r.prototype,"geometryType",void 0),t([o({type:String})],r.prototype,"globalIdField",void 0),t([a("service","globalIdField",["globalIdField","fields"])],r.prototype,"readGlobalIdFieldFromService",null),t([o({readOnly:!0})],r.prototype,"hasFullEditingRestrictions",null),t([o({type:Boolean,json:{origins:{service:{read:!0}}}})],r.prototype,"hasM",void 0),t([o({readOnly:!0})],r.prototype,"hasUpdateItemRestrictions",null),t([o({type:Boolean,json:{origins:{service:{read:!0}}}})],r.prototype,"hasZ",void 0),t([o({readOnly:!0,type:$t})],r.prototype,"heightModelInfo",void 0),t([o({type:Date})],r.prototype,"historicMoment",void 0),t([o({type:ut.ofType(g),readOnly:!0})],r.prototype,"indexes",void 0),t([o({readOnly:!0})],r.prototype,"isTable",void 0),t([a("service","isTable",["type"])],r.prototype,"readIsTableFromService",null),t([o({type:Number,json:{origins:{service:{read:{source:"id"}},"portal-item":{read:!1,write:{target:"id"}}},read:!1}})],r.prototype,"layerId",void 0),t([o(ve)],r.prototype,"maxScale",void 0),t([a("service","maxScale",["maxScale","effectiveMaxScale"])],r.prototype,"readMaxScale",null),t([o(xe)],r.prototype,"minScale",void 0),t([a("service","minScale",["minScale","effectiveMinScale"])],r.prototype,"readMinScale",null),t([o({type:String})],r.prototype,"objectIdField",void 0),t([a("service","objectIdField",["objectIdField","fields"])],r.prototype,"readObjectIdFieldFromService",null),t([o(P("preferredTimeReference"))],r.prototype,"preferredTimeZone",void 0),t([o({type:[ue],readOnly:!0})],r.prototype,"relationships",void 0),t([o({type:Boolean})],r.prototype,"returnM",void 0),t([o({type:Boolean})],r.prototype,"returnZ",void 0),t([o({readOnly:!0,json:{write:!1}})],r.prototype,"serverGens",void 0),t([o({readOnly:!0})],r.prototype,"serviceDefinitionExpression",void 0),t([a("service","serviceDefinitionExpression",["definitionQuery","definitionExpression"])],r.prototype,"readServiceDefinitionExpression",null),t([o({type:String,readOnly:!0,json:{read:!1,origins:{service:{read:!0}}}})],r.prototype,"serviceItemId",void 0),t([o()],r.prototype,"sourceJSON",void 0),t([o({type:dt,json:{origins:{service:{read:{source:"extent.spatialReference"}}}}})],r.prototype,"spatialReference",void 0),t([o({type:String,readOnly:!0,json:{origins:{service:{read:!0}}}})],r.prototype,"subtypeField",void 0),t([o({type:[Ze],readOnly:!0,json:{read:!1,origins:{service:{read:!0}}}})],r.prototype,"subtypes",void 0),t([o({type:String,json:{read:{source:"timeInfo.trackIdField"}}})],r.prototype,"trackIdField",void 0),t([o(fe)],r.prototype,"url",null),t([l("url")],r.prototype,"writeUrl",null),t([o({json:{origins:{service:{read:!0}},read:!1}})],r.prototype,"version",void 0),t([a("service","version",["currentVersion","capabilities","drawingInfo","hasAttachments","htmlPopupType","relationships","timeInfo","typeIdField","types"])],r.prototype,"readVersion",null),r=t([p("esri.layers.mixins.FeatureLayerBase")],r),r};export{Fn as a,Qa as b};
