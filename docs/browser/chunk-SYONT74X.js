import{a as w}from"./chunk-3TP25Q6W.js";import{a as o,d as u,i as n}from"./chunk-MBJHSEMD.js";import{f as p}from"./chunk-HRP5LYWJ.js";import{U as v}from"./chunk-TFUPB3ZG.js";import{a as l}from"./chunk-BMVJCP2M.js";import{q as m}from"./chunk-GMC3I5VG.js";import{d as c}from"./chunk-WGF2T2BG.js";import{g as r}from"./chunk-JEGVIFEP.js";function B(t,i){t.interactive=!0;let{tool:a,view:s}=t;s.activeTool=a;let e=m(i,()=>{s.activeTool===a&&(s.activeTool=null)});return p(d=>r(this,null,function*(){yield u(()=>a==null||!a.active,d),e=c(e)}),i)}function D(t,i){return o(()=>t.interactive,()=>T(t,i),n)}function T(t,i){t.interactive?h(t,i):y(t)}function h(t,i){y(t);let{view:a,analysis:s}=t,e=new i({view:a,analysis:s,analysisViewData:t});return t.tool=e,a.tools.add(e),e}function y(t){let{view:i,tool:a}=t;a!=null&&(i.tools.remove(a),t.tool=null)}var f=class extends w{constructor(t){super(t)}initialize(){this.addHandles(o(()=>this.analysisViewData.visible,t=>this.visible=t,n))}deactivate(){this.onDeactivate(),this.created||this.analysis.clear()}resetCreated(){this._set("created",!1)}};f=l([v("esri.views.interactive.AnalysisToolBase")],f);export{f as a,B as b,D as c,y as d};
