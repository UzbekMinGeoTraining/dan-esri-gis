import{a as R,c as S}from"./chunk-OZ5LGYCJ.js";import{a as P}from"./chunk-CY477QBZ.js";import{p as M}from"./chunk-T7BKG6V3.js";import{i as f,l as u}from"./chunk-N27U3N2T.js";import{a as m}from"./chunk-NDYVXEZ5.js";import{B as y,da as p}from"./chunk-4DLSYLKE.js";function U(e,o){return Math.log(e)/Math.log(o)}function z(e,o,i){let s=e===1?10:e;return s**(i?Math.round(U(50/o,s)):0)}function F(e){let{isGeographic:o,isWebMercator:i}=e;return!o&&!i}function B(e,o,i){let s=typeof e=="number"?null:e,r=i??s?.spatialReference;if(r==null||!y(r)||F(r))return p(r);let n=s?.x??e,a=s?.y??o,h=1/Math.sqrt(2),c=n+h,l=a+h,{isWebMercator:d,isGeographic:G}=r,g=G&&!R(r)?m.WGS84:r;if(d){let t=new u({x:n,y:a,spatialReference:r});f(t,!0,t),n=t.x,a=t.y,t=new u({x:c,y:l,spatialReference:r}),f(t,!0,t),c=t.x,l=t.y,g=m.WGS84}let W=new M({paths:[[[n,a],[c,l]]],spatialReference:g}),b=P(W,10),x;try{[x]=S([b],"meters")}catch{return p(r)}return x}export{z as a,B as b};
