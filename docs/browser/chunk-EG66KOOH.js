import{i as l,j as m}from"./chunk-2JZ6XBZT.js";import"./chunk-7ITFLLSZ.js";import"./chunk-NUHIEXKU.js";import"./chunk-RK5X7LGN.js";import"./chunk-QPKFNEIN.js";import{d as y,e as n,f as o,g as i}from"./chunk-EYI3QUAE.js";import"./chunk-FW33MEBA.js";import"./chunk-RM6CXOHZ.js";import"./chunk-AOA5JMXK.js";import"./chunk-TWW3KW7Z.js";import"./chunk-T7BKG6V3.js";import"./chunk-R6VC74T7.js";import"./chunk-6WKJD7BM.js";import"./chunk-3CR7P5WT.js";import"./chunk-PYQRTZNZ.js";import"./chunk-BIVFGNT6.js";import"./chunk-EUZMXXZJ.js";import"./chunk-7PEPFLZH.js";import"./chunk-BRVOQZDM.js";import"./chunk-3M7VXIQH.js";import"./chunk-TBYT66N3.js";import"./chunk-5PTS4JDF.js";import"./chunk-N27U3N2T.js";import"./chunk-4R5NBZMW.js";import"./chunk-NDYVXEZ5.js";import"./chunk-CMMPCPP5.js";import"./chunk-4DLSYLKE.js";import"./chunk-VPXBKZQM.js";import"./chunk-ZTKK3KB7.js";import"./chunk-GZXWFBZI.js";import"./chunk-B7IARA3F.js";import"./chunk-IZVEJCCI.js";import"./chunk-TEY6TKJV.js";import"./chunk-4M6XQSBA.js";import"./chunk-2JF6YUJG.js";import"./chunk-GGZQ5GCM.js";import"./chunk-TFUPB3ZG.js";import"./chunk-ANPNMGFG.js";import"./chunk-BMVJCP2M.js";import"./chunk-GMC3I5VG.js";import"./chunk-WGF2T2BG.js";import"./chunk-YZP43POT.js";import"./chunk-VEDIBGHD.js";import"./chunk-3IBUFXWY.js";import"./chunk-BP73DJTS.js";import{g as t}from"./chunk-JEGVIFEP.js";var c="Image Service",u="imagery-layer-save",d="imagery-layer-save-as",f="imagery-tile-layer-save",T="imagery-tile-layer-save-as";function p(a){if(a.type==="imagery")return{isValid:!0};let{raster:e}=a,r=e?.datasetFormat==="Function"?e.primaryRasters?.rasters[0]:e;return{isValid:r?.datasetFormat==="RasterTileServer"&&(r.tileType==="Raster"||r.tileType==="Map"),errorMessage:"imagery tile layer should be created from a tiled image service."}}function g(a){let e=a.layerJSON;return Promise.resolve(e&&Object.keys(e).length?e:null)}function I(a,e){return t(this,null,function*(){let{parsedUrl:r,title:s,fullExtent:v}=a;e.url=r.path,e.title||=s;try{e.extent=yield o(v)}catch{e.extent=void 0}y(e,i.METADATA),n(e,i.TILED_IMAGERY,a.type==="imagery-tile")})}function w(a,e){return t(this,null,function*(){let r=a.type==="imagery"?u:f;return l({layer:a,itemType:c,validateLayer:p,createItemData:g,errorNamePrefix:r},e)})}function E(a,e,r){return t(this,null,function*(){let s=a.type==="imagery"?d:T;return m({layer:a,itemType:c,validateLayer:p,createItemData:g,errorNamePrefix:s,newItem:e,setItemProperties:I},r)})}export{w as save,E as saveAs};
