import{a as de}from"./chunk-FGGPXB4N.js";import"./chunk-TE3AN3AP.js";import"./chunk-UZJLA2HS.js";import"./chunk-CHPLM643.js";import"./chunk-HTTNXZ47.js";import"./chunk-LVXEBOB6.js";import"./chunk-46ZNFCJZ.js";import"./chunk-4FRQLB6H.js";import"./chunk-6VWB6ZLL.js";import{a as le}from"./chunk-6QY3LIKU.js";import"./chunk-DTZ5TCG3.js";import"./chunk-7DG45AVS.js";import{a as oe}from"./chunk-QN72YLVS.js";import"./chunk-O2VLZ273.js";import{a as ie}from"./chunk-LAL65HH4.js";import"./chunk-RLWJFGVZ.js";import"./chunk-I6DDZT7I.js";import"./chunk-XGJXAYNE.js";import"./chunk-AB4CTIUZ.js";import{d as l,e as re}from"./chunk-2HYJESCC.js";import"./chunk-VJX4SEWU.js";import"./chunk-OZ5LGYCJ.js";import{a as te}from"./chunk-2K35ZAGK.js";import{a as $}from"./chunk-VWZEQZNT.js";import{b as X}from"./chunk-YRCMQA7S.js";import"./chunk-DKD4OKJ2.js";import{p as f}from"./chunk-4YNUZOQW.js";import"./chunk-4EBEFT6T.js";import"./chunk-W4FJ4A5Q.js";import"./chunk-X7CRJ427.js";import"./chunk-OT635BJR.js";import"./chunk-EDY6B353.js";import"./chunk-KS6SWJU3.js";import"./chunk-JHBR5RZV.js";import"./chunk-6J446DPN.js";import"./chunk-E3LKQDEM.js";import"./chunk-GWDYH5GG.js";import"./chunk-XCZY4IUQ.js";import"./chunk-DZBIKPHA.js";import"./chunk-F4QTXEUP.js";import"./chunk-C6VBL32Q.js";import"./chunk-OXOFK4XQ.js";import"./chunk-3DR4YGRI.js";import"./chunk-WCQK6XOZ.js";import"./chunk-RCCESRES.js";import"./chunk-FTNMSGGI.js";import"./chunk-4DJFVMMN.js";import{a as ae}from"./chunk-MXVB4FQA.js";import{a as ne}from"./chunk-DQVRRO4N.js";import{a as se}from"./chunk-MM6IP4FS.js";import"./chunk-DYNH5H2C.js";import"./chunk-WP7QHDBV.js";import{d as D}from"./chunk-F7R3VTP4.js";import"./chunk-MNU4KXU7.js";import{a as ee}from"./chunk-XRVFK5TR.js";import"./chunk-AJSXTGZB.js";import"./chunk-2F2E6NNR.js";import"./chunk-H7LSTWKZ.js";import"./chunk-3KFX3FFC.js";import"./chunk-XNAAMINV.js";import"./chunk-NPF6KTZO.js";import"./chunk-WNU76WNW.js";import"./chunk-H4XRNT5U.js";import"./chunk-WIJFCRLT.js";import"./chunk-6ISQQD7M.js";import"./chunk-VHVYC3RW.js";import{a as O,b as Z}from"./chunk-BUWHOOA3.js";import"./chunk-SDC4SION.js";import"./chunk-N3AGC3JB.js";import"./chunk-IGNHVSQC.js";import{c as Q}from"./chunk-B3W5V2XP.js";import"./chunk-NP35J4DQ.js";import"./chunk-JBGML6IF.js";import"./chunk-S2HMCZNZ.js";import"./chunk-WUAC4CFP.js";import"./chunk-ONDKJR4V.js";import"./chunk-QB4KDO4M.js";import"./chunk-NNNTRPDR.js";import{b as J}from"./chunk-KDLA3TQ2.js";import"./chunk-RPMDOAYZ.js";import"./chunk-J7UK2QPE.js";import"./chunk-6DXGZQQN.js";import"./chunk-3PK63SMD.js";import"./chunk-2DN2BYDF.js";import"./chunk-MEA3RU4I.js";import"./chunk-Q6D44QVW.js";import"./chunk-3UBXEUOT.js";import"./chunk-6WV5YJL7.js";import"./chunk-3AMG6HG6.js";import"./chunk-MEBZWNWT.js";import"./chunk-XZ52TEBV.js";import"./chunk-WAPQB6I3.js";import"./chunk-L3GHXHDP.js";import"./chunk-N6PITG7Q.js";import"./chunk-XC4LDHG5.js";import"./chunk-S3ASAZCA.js";import"./chunk-ZUUCQTSR.js";import"./chunk-GKUBZAEG.js";import"./chunk-UW734WOQ.js";import"./chunk-BIZV3H6H.js";import"./chunk-UCYGH5UZ.js";import"./chunk-ATV5GTE5.js";import"./chunk-X7WNJQZZ.js";import"./chunk-PQPFAB53.js";import"./chunk-QPPQKNYU.js";import"./chunk-MJXFSFCY.js";import"./chunk-6N46AY7Z.js";import"./chunk-TCQTMUK4.js";import"./chunk-AY3YVZUY.js";import"./chunk-7DCEI345.js";import"./chunk-ZG3FCPXY.js";import"./chunk-RIUAG34V.js";import"./chunk-G5SIQY64.js";import"./chunk-WW7S4V24.js";import"./chunk-UGAMS6PU.js";import"./chunk-EHDNZUTT.js";import"./chunk-NH7OOX2I.js";import"./chunk-B72PB7U4.js";import"./chunk-644SLL4Y.js";import"./chunk-A54VD7GL.js";import"./chunk-K55ZDM2S.js";import"./chunk-Z3USGHSR.js";import"./chunk-OO4IIGVK.js";import"./chunk-KQHYII76.js";import"./chunk-6I6DPRXI.js";import"./chunk-RNN6GAXL.js";import"./chunk-4IVMQ5PX.js";import"./chunk-CQUOQXLP.js";import"./chunk-VMYCUJRH.js";import"./chunk-PTVRFY4B.js";import"./chunk-3ZOLHUAU.js";import{d as Y}from"./chunk-5DAF2FXI.js";import"./chunk-2WNCPIJC.js";import"./chunk-GDB2EJGA.js";import"./chunk-RDGFIF46.js";import"./chunk-C2ONI6UP.js";import"./chunk-H6LJ2DCJ.js";import"./chunk-LCDA6FHZ.js";import"./chunk-RZPELDHM.js";import"./chunk-S3J33BKD.js";import"./chunk-NPIYHDQ7.js";import"./chunk-BL63T6AU.js";import"./chunk-AOTWUAUY.js";import"./chunk-VI4TDFI5.js";import"./chunk-GXSLPADW.js";import"./chunk-2HN33SWB.js";import"./chunk-523X5JOP.js";import"./chunk-BXR2KKYP.js";import"./chunk-7ISKCG7U.js";import"./chunk-OFGHVREP.js";import"./chunk-U3ETEC6R.js";import"./chunk-YJ3RZNO6.js";import{h as B}from"./chunk-PVCDKA4D.js";import"./chunk-26R336GJ.js";import"./chunk-OC7V2CEX.js";import"./chunk-VTCODMOL.js";import"./chunk-B7GIKKEW.js";import"./chunk-3HX6VT75.js";import"./chunk-4I7LQWUX.js";import{b}from"./chunk-JLNQ6WQT.js";import"./chunk-GB5RQL32.js";import"./chunk-25T3ULWN.js";import"./chunk-4OZVVJHM.js";import"./chunk-IZRBPB5G.js";import"./chunk-X7XJWAFC.js";import"./chunk-ILCAH2F6.js";import"./chunk-CYCLIMTY.js";import"./chunk-Q6ZVH4MK.js";import"./chunk-RRDM7P6F.js";import"./chunk-LWJTIQQT.js";import"./chunk-IHBD2IWR.js";import"./chunk-NH3JQE75.js";import"./chunk-XXOIKNT6.js";import{a as N}from"./chunk-DBLGLVAQ.js";import"./chunk-HVNRUZWJ.js";import{a as q}from"./chunk-AYOI2Y26.js";import"./chunk-ZGDQY5ZD.js";import"./chunk-QH2MD2O2.js";import"./chunk-6EZNY6L4.js";import"./chunk-3IK5VXZ3.js";import"./chunk-7XLHE26H.js";import"./chunk-MBVOWLUI.js";import"./chunk-EN6CTWVM.js";import"./chunk-IRJNWXGT.js";import"./chunk-LVPMJTA6.js";import"./chunk-O4AQRVFI.js";import"./chunk-NDPAZKBG.js";import"./chunk-7AZ5UVCG.js";import"./chunk-6GGK7PRJ.js";import"./chunk-EJO53FLN.js";import"./chunk-NNETCWLJ.js";import"./chunk-EPTSNNZF.js";import"./chunk-FW33MEBA.js";import"./chunk-RM6CXOHZ.js";import"./chunk-AOA5JMXK.js";import"./chunk-TWW3KW7Z.js";import"./chunk-Y6H3NTW7.js";import"./chunk-4RLJMQW4.js";import"./chunk-J6ZRC6RI.js";import"./chunk-EBGO44EK.js";import"./chunk-THY6AAMN.js";import{a as g}from"./chunk-7W6RATG7.js";import"./chunk-45SNVLPM.js";import{l as I}from"./chunk-BDF7KEUQ.js";import{a as F}from"./chunk-HWN5REN7.js";import"./chunk-B4JAL745.js";import{b as W,s as K}from"./chunk-XTES2GPX.js";import"./chunk-2HUIJUS4.js";import{a as V,c as A,h as H,i as z}from"./chunk-MBJHSEMD.js";import"./chunk-2R4SNL6O.js";import"./chunk-TSNWBMBA.js";import"./chunk-YFBPRKIN.js";import"./chunk-P2YRCTWM.js";import"./chunk-OFZ6SV37.js";import"./chunk-5MNDZ6BX.js";import"./chunk-YSOJWUIW.js";import"./chunk-Q5WFUDPQ.js";import"./chunk-DPZGANVI.js";import"./chunk-T7BKG6V3.js";import"./chunk-R6VC74T7.js";import{f as U}from"./chunk-6WKJD7BM.js";import"./chunk-3CR7P5WT.js";import"./chunk-YRTBL7EE.js";import"./chunk-3FPO2LOS.js";import"./chunk-QNZSBADV.js";import"./chunk-PYQRTZNZ.js";import"./chunk-GYH7NDHH.js";import"./chunk-S3UQHW42.js";import"./chunk-VQHENXDQ.js";import"./chunk-VWF5VUO3.js";import"./chunk-HRP5LYWJ.js";import"./chunk-BIVFGNT6.js";import"./chunk-3M7VXIQH.js";import"./chunk-TBYT66N3.js";import{h as k}from"./chunk-5PTS4JDF.js";import"./chunk-MUI46NAG.js";import"./chunk-N27U3N2T.js";import"./chunk-4R5NBZMW.js";import"./chunk-NDYVXEZ5.js";import"./chunk-CMMPCPP5.js";import{da as P}from"./chunk-4DLSYLKE.js";import"./chunk-VPXBKZQM.js";import"./chunk-ZTKK3KB7.js";import"./chunk-GZXWFBZI.js";import"./chunk-B7IARA3F.js";import"./chunk-IZVEJCCI.js";import"./chunk-TEY6TKJV.js";import"./chunk-4M6XQSBA.js";import"./chunk-2JF6YUJG.js";import{Q as s,S as L}from"./chunk-GGZQ5GCM.js";import{U as w}from"./chunk-TFUPB3ZG.js";import"./chunk-ANPNMGFG.js";import{a}from"./chunk-BMVJCP2M.js";import{B as G,D as T,a as u,c as C,f as E}from"./chunk-GMC3I5VG.js";import{b as j,e as R}from"./chunk-WGF2T2BG.js";import"./chunk-YZP43POT.js";import"./chunk-VEDIBGHD.js";import{t as S}from"./chunk-3IBUFXWY.js";import"./chunk-BP73DJTS.js";import{g as m}from"./chunk-JEGVIFEP.js";var me=Symbol(),ce=Symbol(),he=1,ye=10,c=class extends L{get updating(){return this._updatingHandles.updating}get _preferredInteractionTool(){return this.options?.tool??"transform"}get _toolType(){switch(this._preferredInteractionTool){case"transform":return"transform-3d";case"reshape":return"reshape-3d"}}get _validatedSelectedElement(){let e=this.selectedElement;if(!e)return null;let{layer:{source:t}}=this;return t?"hasElement"in t?t.hasElement(e)?e:null:t===e?e:null:null}constructor(e){super(e),this.enabled=!1,this._updatingHandles=new q,this._isOpacityToggled=!1,this._factor=he,this._tool=null,this._object=null,this._createToolAbortController=null,this._onPointerMove=T(t=>m(this,null,function*(){let i=yield this._updatingHandles.addPromise(this._findElementAtScreenPoint(t));this.destroyed||(this.removeHandles(ce),i&&i!==this.selectedElement&&(this.view.cursor="pointer",this.addHandles(u(()=>this.view.cursor=null),ce)))})),this._tmpMat2=ee(),this._tmpVec2=F()}destroy(){this._createToolAbortController=R(this._createToolAbortController)}initialize(){this.addHandles([E(this._updatingHandles),this._updatingHandles.add(()=>this.enabled,e=>this._enableDisable(e),H),this._updatingHandles.add(()=>this._preferredInteractionTool,e=>this._preferredInteractionToolChanged(e))])}_enableDisable(e){if(!e)return void this.removeHandles(me);this._dynamicImports();let{view:t}=this,i=new re;i.add(l.undo,()=>{this._object?.operations?.undo(),this._object?.emit("modified-externally")}),i.add(l.redo,()=>{this._object?.operations?.redo(),this._object?.emit("modified-externally")}),i.addToggle(l.preserveAspectRatio,r=>{this._tool?.type==="transform-3d"&&(this._tool.preserveAspectRatio=r.type==="key-down")}),i.addToggle(l.rotateIncrements,r=>{this._tool?.type==="transform-3d"&&(this._tool.snapRotation=r.type==="key-down")}),i.add(l.toggleOpacity,()=>{let r=this._object?.element;r&&(r.opacity*=this._isOpacityToggled?2:.5,this._isOpacityToggled=!this._isOpacityToggled)}),i.add(l.moveUp,()=>this._move(0,this._factor)),i.add(l.moveDown,()=>this._move(0,-this._factor)),i.add(l.moveRight,()=>this._move(this._factor,0)),i.add(l.moveLeft,()=>this._move(-this._factor,0)),i.addToggle(l.factorModifier,r=>this._factor=r.type==="key-down"?ye:he),this._isOpacityToggled=!1,this.addHandles([i.register(t,D.TOOL),u(()=>{this._isOpacityToggled&&this.selectedElement&&(this.selectedElement.opacity*=2,this._isOpacityToggled=!1)}),t.on("immediate-click",r=>this._onClick(r),D.TOOL),t.on("pointer-move",r=>this._onPointerMove(r).catch(()=>{}),D.TOOL),this._updatingHandles.add(()=>this._validatedSelectedElement,(r,o)=>{o&&r!==o&&this._isOpacityToggled&&(o.opacity*=2,this._isOpacityToggled=!1),this._selectedElementChanged(r)},H),u(()=>{t.cursor=null,this._removeTool()})],me)}_onClick(e){return m(this,null,function*(){yield this._updatingHandles.addPromise(e.async(()=>m(this,null,function*(){let t=yield this._findElementAtScreenPoint(e);this.destroyed||(t&&e.stopPropagation(),this.selectedElement=t,this.selectedElement&&(this.view.cursor=null))})))})}_selectedElementChanged(e){return m(this,null,function*(){e?.georeference?this._object?.element!==e&&(yield this._updatingHandles.addPromise(this._recreateTool())):this._removeTool()})}_recreateTool(){return m(this,null,function*(){this._createToolAbortController=R(this._createToolAbortController),this._removeTool();let e=this._validatedSelectedElement;if(!e)return;let t=new AbortController;this._createToolAbortController=t;let{ManipulatedObject3DMediaElement:i,ExtentTransformTool:r,ReshapeTool3D:o}=yield this._dynamicImports();if(t.signal.aborted)return;let{view:n,layer:d,_toolType:y}=this;switch(this._object=new i({view:n,layer:d,element:e,tool:this._preferredInteractionTool}),y){case"transform-3d":{this._tool=new r({view:n,object:this._object});let h=n.inputManager;h.isModifierKeyDown(l.rotateIncrements.key)&&(this._tool.snapRotation=!0),h.isModifierKeyDown(l.preserveAspectRatio.key)&&(this._tool.preserveAspectRatio=!0)}break;case"reshape-3d":{let h=de(n);this.addHandles(h,this._tool);let{snappingManager:p}=h;this._tool=new o({view:n,object:this._object,enableMidpoints:!1,enableZShape:!1,snappingManager:p,enableMoveObject:!1,autoHideManipulators:!0,enableDeleteVertices:!1})}}this.addHandles([u(()=>{this._object=j(this._object),this._tool&&(n.tools.remove(this._tool),this._tool=null)})],this._tool),n.addAndActivateTool(this._tool)})}_preferredInteractionToolChanged(e){let{_tool:t}=this;if(!t)return;if(this._toolType!==t.type)return void this._updatingHandles.addPromise(this._recreateTool());let{_object:i}=this;i&&(i.tool=e)}_dynamicImports(){return m(this,null,function*(){let[{ManipulatedObject3DMediaElement:e},{ExtentTransformTool:t,ReshapeTool3D:i}]=yield Promise.all([import("./chunk-ATOWCJLU.js"),import("./chunk-RTABB53T.js")]);return{ManipulatedObject3DMediaElement:e,ExtentTransformTool:t,ReshapeTool3D:i}})}_findElementAtScreenPoint(e){return m(this,null,function*(){let t=(yield this.view.hitTest(e,{include:[this.layer]})).results[0];return t?.type==="media"?t.element:null})}_removeTool(){this._tool&&this.removeHandles(this._tool)}_move(e,t){let{view:i,_object:r}=this,o=r?.operations;if(!o)return;let n=i.overlayPixelSizeInMapUnits(i.pointsOfInterest.focus.location)*P(i.spatialReference)/P(o.data.spatialReference),{_tmpMat2:d,_tmpVec2:y}=this,h=B(d,k(360-this.view.camera.heading)),p=W(y,n*e,n*t);K(p,p,h),o.move(p[0],p[1],0),r.emit("modified-externally")}};a([s({constructOnly:!0})],c.prototype,"view",void 0),a([s({constructOnly:!0})],c.prototype,"layer",void 0),a([s()],c.prototype,"selectedElement",void 0),a([s()],c.prototype,"enabled",void 0),a([s()],c.prototype,"options",void 0),a([s()],c.prototype,"updating",null),a([s()],c.prototype,"_preferredInteractionTool",null),a([s()],c.prototype,"_validatedSelectedElement",null),c=a([w("esri.views.3d.layers.support.MediaLayerInteraction")],c);var _=class extends oe(ie(te)){get interactive(){return this._interaction.enabled}set interactive(e){this._interaction&&(this._interaction.enabled=e)}get selectedElement(){return this._interaction.selectedElement}set selectedElement(e){this._interaction&&(this._interaction.selectedElement=e)}get visibleAtCurrentScale(){return Y(this.layer.effectiveScaleRange,this.view.scale)}constructor(e){super(e),this.type="media-3d",this.drapeSourceType=ne.Features,this.updatePolicy=se.ASYNC,this._uidToElement=new Map,this._renderedElements=new Map,this._lastDrapingExtent=null,this._update=T((r,o,n)=>m(this,null,function*(){let d=yield this._collectMediaElements(r,o,n);this._synchronizeRenderElements(d)}),0);let{view:t,layer:i}=e;this._interaction=new c({view:t,layer:i}),this.addHandles(V(()=>this.interactionOptions,r=>this._interaction.options=r,z))}initialize(){let{view:e,layer:t}=this;this._renderer=e.basemapTerrain.overlayManager.registerGeometryDrapeSource(this);let i=()=>this._updateWithLastDrapingExtent();this.addHandles([u(()=>e.basemapTerrain.overlayManager.unregisterDrapeSource(this)),A(()=>t.effectiveSource,"change",i),A(()=>t.effectiveSource,"refresh",i)]),this._updatingHandles.add(()=>this.suspended,i)}setDrapingExtent(e,t){this._lastDrapingExtent={overlays:e,spatialReference:t},this._updateWithLastDrapingExtent()}getHit(e){let t=this._uidToElement.get(e);return t?{type:"media",element:t,layer:this.layer}:null}isUpdating(){return super.isUpdating()||this._interaction.updating}_updateWithLastDrapingExtent(){if(this._lastDrapingExtent==null||this.suspended)return void(this._renderer&&this._synchronizeRenderElements(new Set));let{overlays:e,spatialReference:t}=this._lastDrapingExtent;this._updatingHandles.addPromise(this._update(e,t).catch(()=>{}))}_collectMediaElements(e,t,i){return m(this,null,function*(){let r=this.layer.effectiveSource;return r==null?new Set:new Set((yield Promise.all(e.map(o=>r.queryElements(U(o.extent,t),{signal:i})))).flat())})}_synchronizeRenderElements(e){this._synchronizeRenderElementsRemove(e),this._synchronizeRenderElementsAdd(e)}_synchronizeRenderElementsRemove(e){this._renderedElements.forEach((t,i)=>{e.has(i)||(this._removeElement(i,t),this.emit("element-render-changed",{element:i}))})}_synchronizeRenderElementsAdd(e){for(let t of e)this._renderedElements.has(t)||this._createRenderElement(t)}_removeElement(e,{renderData:t,handle:i}){this._destroyRenderData(e,t),this._renderedElements.delete(e),this._uidToElement.delete(e.uid),i.remove()}_createRenderElement(e){return m(this,null,function*(){let t=new $({spatialReference:this.view.spatialReference,element:e}),i={renderData:null,handle:C([this._updatingHandles.add(()=>e.opacity,r=>{i.renderData!=null&&i.renderData.material.setParameters({opacity:r})}),this._updatingHandles.add(()=>t.coords,()=>{i.renderData!=null?this._updateGeometry(t,i,i.renderData):this._initializeRenderData(t,i)}),this._updatingHandles.add(()=>e.content,()=>this._initializeRenderData(t,i)),E(t)])};this._renderedElements.set(e,i),this._uidToElement.set(e.uid,e),this._updatingHandles.addPromise(e.load().catch(()=>{})),this._initializeRenderData(t,i)})}_initializeRenderData(e,t){let{coords:i,element:r}=e,{contentWidth:o,contentHeight:n}=r;if(i==null||r.content==null)return void(t.renderData=this._destroyRenderData(r,t.renderData));if(t.renderData!=null)return;let d=this._createTexture(r.content),y=d.load(this.view._stage.renderView.renderingContext);this.view._stage.add(d),G(y)&&this._updatingHandles.addPromise(y);let h=new le({initTextureTransparent:!0,textureId:d.id,opacity:r.opacity,perspectiveInterpolation:!0}),p=this._getPositionAttributeArray(i),pe=[0,0,1,0,1,1,0,1],_e=this._getPerspectiveDivideAttributeArray(p,o,n),M=[0,1,2,0,2,3],ue=new Q(h,[[g.POSITION,new b(p,M,3,!0)],[g.UV0,new b(pe,M,2,!0)],[g.PERSPECTIVEDIVIDE,new b(_e,M,1,!0)]]),x=new ae(ue,{layerUid:this.layer.uid,graphicUid:r.uid});this._renderer.addGeometries([x],O.ADD),t.renderData={renderGeometry:x,texture:d,material:h},this.emit("element-render-changed",{element:r})}_updateGeometry(e,t,i){let{coords:r,element:o}=e;if(r==null||o.content==null)return void(t.renderData=this._destroyRenderData(o,t.renderData));let n=this._getPositionAttributeArray(r);i.renderGeometry.geometry.setAttributeData(g.POSITION,n);let d=this._getPerspectiveDivideAttributeArray(n,o.contentWidth,o.contentHeight);i.renderGeometry.geometry.setAttributeData(g.PERSPECTIVEDIVIDE,d),i.renderGeometry.geometry.invalidateBoundingInfo(),this._renderer.modifyGeometries([i.renderGeometry],Z.GEOMETRY),this.emit("element-render-changed",{element:o})}_getPositionAttributeArray(e){let[t,i,r,o]=e.rings[0];return[t[0],t[1],f,o[0],o[1],f,r[0],r[1],f,i[0],i[1],f]}_getPerspectiveDivideAttributeArray(e,t,i){X(v,[0,0,t,0,t,i,0,i],[e[0],e[1],e[3],e[4],e[6],e[7],e[9],e[10]]);let r=v[6]/v[8]*t,o=v[7]/v[8]*i;return[1,1+r,1+r+o,1+o]}_destroyRenderData(e,t){if(t==null)return null;let i=t.texture;return i.unload(),this.view._stage.remove(i),this._renderer.removeGeometries([t.renderGeometry],O.REMOVE),this.emit("element-render-changed",{element:e}),null}_createTexture(e){let t=e instanceof HTMLImageElement?e.naturalWidth:e.width,i=e instanceof HTMLImageElement?e.naturalHeight:e.height;if("getFrame"in e)throw new S("media-layer-view-3d","animation is not supported");return new J(e,{wrap:{s:I.CLAMP_TO_EDGE,t:I.CLAMP_TO_EDGE},preMultiplyAlpha:!0,width:t,height:i,mipmap:!0,updateCallback:()=>this.view.basemapTerrain.overlayManager.setDrawTexturesDirty()})}get test(){}};a([s({readOnly:!0})],_.prototype,"type",void 0),a([s()],_.prototype,"layer",void 0),a([s()],_.prototype,"interactive",null),a([s()],_.prototype,"selectedElement",null),a([s({readOnly:!0})],_.prototype,"visibleAtCurrentScale",null),_=a([w("esri.views.3d.layers.MediaLayerView3D")],_);var v=N(),gt=_;export{gt as default};
