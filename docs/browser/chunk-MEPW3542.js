import{a as F}from"./chunk-GDB2EJGA.js";import{d as x}from"./chunk-5PTS4JDF.js";var A=t=>t==="vertical"||t==="horizontal"||t==="cross"||t==="esriSFSCross"||t==="esriSFSVertical"||t==="esriSFSHorizontal";function p(t,M,g){let s=M.style,h=x(Math.ceil(g)),o=A(s)?8*h:16*h,a=2*h;t.width=o,t.height=o;let e=t.getContext("2d");e.strokeStyle="#ffffff",e.lineWidth=h,e.beginPath(),s!=="vertical"&&s!=="cross"&&s!=="esriSFSCross"&&s!=="esriSFSVertical"||(e.moveTo(o/2,-a),e.lineTo(o/2,o+a)),s!=="horizontal"&&s!=="cross"&&s!=="esriSFSCross"&&s!=="esriSFSHorizontal"||(e.moveTo(-a,o/2),e.lineTo(o+a,o/2)),s!=="backward-diagonal"&&s!=="diagonal-cross"&&s!=="esriSFSDiagonalCross"&&s!=="esriSFSBackwardDiagonal"||(e.moveTo(-a,-a),e.lineTo(o+a,o+a),e.moveTo(o-a,-a),e.lineTo(o+a,a),e.moveTo(-a,o-a),e.lineTo(a,o+a)),s!=="forward-diagonal"&&s!=="diagonal-cross"&&s!=="esriSFSForwardDiagonal"&&s!=="esriSFSDiagonalCross"||(e.moveTo(o+a,-a),e.lineTo(-a,o+a),e.moveTo(a,-a),e.lineTo(-a,a),e.moveTo(o+a,o-a),e.lineTo(o-a,o+a)),e.stroke();let f=e.getImageData(0,0,t.width,t.height),n=new Uint8Array(f.data),c;for(let r=0;r<n.length;r+=4)c=n[r+3]/255,n[r]=n[r]*c,n[r+1]=n[r+1]*c,n[r+2]=n[r+2]*c;return[n,t.width,t.height,h]}function B(t){t.length%2==1&&(t=[...t,...t]);let M=t.reduce((r,l)=>r+l,0),g=Math.round(M*4),s=1,h=new Float32Array(g*s),o=0,a=0,e=.5,f=!0;for(let r of t){for(o=a,a+=r*4;e<=a;){let l=e-.5,i=Math.min(Math.abs(e-o),Math.abs(e-a));h[l]=f?-i:i,e++}f=!f}let n=h.length,c=new Uint8Array(4*n);for(let r=0;r<n;++r){let l=h[r]/4;F(l/64*.5+.5,c,4*r)}return[c,g,s]}function R(t,M){t==null&&(t=[]);let g=M==="Butt",s=M==="Square",h=!g&&!s;t.length%2==1&&(t=[...t,...t]);let o=15.5,a=2*o,e=0;for(let m of t)e+=m;let f=Math.round(e*o),n=new Float32Array(f*a),c=.5*o,r=0,l=0,i=.5,T=!0;for(let m of t){for(r=l,l+=m*o;i<=l;){let d=.5;for(;d<a;){let z=(d-.5)*f+i-.5,S=h?(d-o)*(d-o):Math.abs(d-o);n[z]=T?g?Math.max(Math.max(r+c-i,S),Math.max(i-l+c,S)):S:h?Math.min((i-r)*(i-r)+S,(i-l)*(i-l)+S):s?Math.min(Math.max(i-r,S),Math.max(l-i,S)):Math.min(Math.max(i-r+c,S),Math.max(l+c-i,S)),d++}i++}T=!T}let u=n.length,v=new Uint8Array(4*u);for(let m=0;m<u;++m){let d=(h?Math.sqrt(n[m]):n[m])/o;F(d,v,4*m)}return[v,f,a]}export{p as a,B as b,R as c};
