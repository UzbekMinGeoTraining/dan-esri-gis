import{a as y,b as s}from"./chunk-J7UK2QPE.js";import{a as g}from"./chunk-KQHYII76.js";import{a as h}from"./chunk-6I6DPRXI.js";import{a as f}from"./chunk-RNN6GAXL.js";import{a as u}from"./chunk-4IVMQ5PX.js";import{a as F}from"./chunk-CQUOQXLP.js";import{a as c}from"./chunk-H6LJ2DCJ.js";import{a as d}from"./chunk-2HN33SWB.js";import{a as l,b as t}from"./chunk-BXR2KKYP.js";import{a as n}from"./chunk-BMVJCP2M.js";var e;(function(a){a[a.None=0]="None",a[a.Alpha=1]="Alpha",a[a.PremultipliedAlpha=2]="PremultipliedAlpha",a[a.Depth=3]="Depth",a[a.COUNT=4]="COUNT"})(e||(e={}));var i=class extends y{constructor(){super(...arguments),this.blitMode=e.None,this.hasOpacityFactor=!1}};n([s({count:e.COUNT})],i.prototype,"blitMode",void 0),n([s()],i.prototype,"hasOpacityFactor",void 0);var m=class extends l{constructor(){super(...arguments),this.opacity=1}};function b(a){let r=new F;r.include(g),r.fragment.uniforms.add(new u("tex",o=>o.texture)),a.hasOpacityFactor&&r.fragment.uniforms.add(new d("opacity",o=>o.opacity));let p=a.blitMode===e.Depth;return p&&(r.fragment.uniforms.add(new f("nearFar",(o,x)=>x.camera.nearFar)),r.fragment.include(h),r.fragment.include(c)),r.fragment.main.add(t`
    ${p?t`
          float normalizedLinearDepth = (-linearDepthFromTexture(tex, uv) - nearFar[0]) / (nearFar[1] - nearFar[0]);
          fragColor = float2rgba(normalizedLinearDepth);`:t`
          fragColor = texture(tex, uv) ${a.hasOpacityFactor?"* opacity":""};`}`),r}var A=Object.freeze(Object.defineProperty({__proto__:null,CompositingPassParameters:m,build:b},Symbol.toStringTag,{value:"Module"}));export{e as a,i as b,m as c,b as d,A as e};
