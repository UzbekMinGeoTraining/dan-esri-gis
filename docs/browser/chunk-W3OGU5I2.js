import{a as m}from"./chunk-OO4IIGVK.js";import{a as c}from"./chunk-RNN6GAXL.js";import{b as i}from"./chunk-BXR2KKYP.js";import{a as f}from"./chunk-HWN5REN7.js";import{b as e}from"./chunk-XTES2GPX.js";import{a as n}from"./chunk-YRTBL7EE.js";import{c as a}from"./chunk-3FPO2LOS.js";function I(r){r.fragment.uniforms.add(new m("projInfo",(o,t)=>p(t.camera))),r.fragment.uniforms.add(new c("zScale",(o,t)=>d(t.camera))),r.fragment.code.add(i`vec3 reconstructPosition(vec2 fragCoord, float depth) {
return vec3((fragCoord * projInfo.xy + projInfo.zw) * (zScale.x * depth + zScale.y), depth);
}`)}function p(r){let o=r.projectionMatrix;return o[11]===0?a(s,2/(r.fullWidth*o[0]),2/(r.fullHeight*o[5]),(1+o[12])/o[0],(1+o[13])/o[5]):a(s,-2/(r.fullWidth*o[0]),-2/(r.fullHeight*o[5]),(1-o[8])/o[0],(1-o[9])/o[5])}var s=n();function d(r){return r.projectionMatrix[11]===0?e(l,0,1):e(l,1,0)}var l=f();export{I as a};
